!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b){b.exports={host:"api.built.io",rtHost:"realtime.built.io",port:443,rtPort:443,protocol:"https",rtProtocol:"https",version:"v1",adaptor:"RestfullAdaptor",persistSession:"COOKIE",cachePolicy:"ONLY_NETWORK",socketData:null,userJSON:null,isSessionUpdated:!1,event_properties:{},app_info:{name:"",app_variables:{},uid:""}}},{}],2:[function(a,b){function c(a){return f.mixin({},i(a))}function d(a,b,c){return f.find(f.where({uid:a}),c.data[b])||{}}function e(a,b){var c=f.indexOf(a.uid,f.map(f.prop("uid"),b));return f.remove(c,1,b)}var f=a("ramda"),g=a("./utilities/utility"),h=a("./utilities/instanceMethodBuilder")(),i=f.prop("data"),j=f.compose(f.prop("others"),i),k=b.exports=function(a){var c=f.mixin({},a);a.users&&g.isArray(a.users)||(c.users=[]),a.roles&&g.isArray(a.roles)||(c.roles=[]),a.others&&g.isObject(a.others)||(c.others={}),a.can&&g.isArray(a.can)||(c.can=[]);var d={toJSON:function(){return a},data:c};return h.build(b.exports,d)},l=f.curry(function(a,b,d,g,h){var j=c(h);j[b]=[].concat(h.data[b]);var l=f.mixin({},f.find(f.propEq("uid",d),i(h)[b]));if(l.uid)j[b]=e(l,j[b]),l[a]=g,j[b].push(l);else{var m={};m.uid=d,m[a]=g,j[b].push(m)}return k(j)});b.exports.getPublicDeleteAccess=function(a){return j(a).delete},h.define("getPublicDeleteAccess",1),b.exports.getPublicReadAccess=function(a){return j(a).read},h.define("getPublicReadAccess",1),b.exports.getPublicUpdateAccess=function(a){return j(a).update},h.define("getPublicUpdateAccess",1),b.exports.getRoleDeleteAccess=f.curry(function(a,b){return d(a,"roles",b).delete}),h.define("getRoleDeleteAccess",2),b.exports.getRoleReadAccess=f.curry(function(a,b){return d(a,"roles",b).read}),h.define("getRoleReadAccess",2),b.exports.getRoleUpdateAccess=f.curry(function(a,b){return d(a,"roles",b).update}),h.define("getRoleUpdateAccess",2),b.exports.getUserDeleteAccess=f.curry(function(a,b){return d(a,"users",b).delete}),h.define("getUserDeleteAccess",2),b.exports.getUserReadAccess=f.curry(function(a,b){return d(a,"users",b).read}),h.define("getUserReadAccess",2),b.exports.getUserUpdateAccess=f.curry(function(a,b){return d(a,"users",b).update}),h.define("getUserUpdateAccess",2),b.exports.isDisabled=function(a){return!!i(a).disable},h.define("isDisabled",1),b.exports.setPublicDeleteAccess=f.curry(function(a,b){var d=c(b);return d.others=f.mixin({},b.data.others),d.others["delete"]=a,k(d)}),h.define("setPublicDeleteAccess",2),b.exports.setPublicUpdateAccess=f.curry(function(a,b){var d=c(b);return d.others=f.mixin({},b.data.others),d.others.update=a,k(d)}),h.define("setPublicUpdateAccess",2),b.exports.setPublicReadAccess=f.curry(function(a,b){var d=c(b);return d.others=f.mixin({},b.data.others),d.others.read=a,k(d)}),h.define("setPublicReadAccess",2),b.exports.setRoleDeleteAccess=l("delete","roles"),h.define("setRoleDeleteAccess",3),b.exports.setRoleUpdateAccess=l("update","roles"),h.define("setRoleUpdateAccess",3),b.exports.setRoleReadAccess=l("read","roles"),h.define("setRoleReadAccess",3),b.exports.setUserDeleteAccess=l("delete","users"),h.define("setUserDeleteAccess",3),b.exports.setUserUpdateAccess=l("update","users"),h.define("setUserUpdateAccess",3),b.exports.setUserReadAccess=l("read","users"),h.define("setUserReadAccess",3),b.exports.disable=function(a){var b=f.mixin({},i(a));return b.disable=!0,k(b)},h.define("disable",1),b.exports.enable=function(a){var b=f.mixin({},i(a));return b.disable=!1,k(b)},h.define("enable",1),b.exports.canUpdate=function(a){return i(a).can.indexOf("update")>-1},h.define("canUpdate",1),b.exports.canDelete=function(a){return i(a).can.indexOf("delete")>-1},h.define("canDelete",1)},{"./utilities/instanceMethodBuilder":24,"./utilities/utility":27,ramda:52}],3:[function(a,b){function c(a){return{headers:a.headers,status:a.status,entity:a.entity}}function d(a){var b=h.defer();return a.onreadystatechange=function(){4==a.readyState&&(a.status>=200&&a.status<300?(i.trigger("upload:end"),b.resolve(a.responseText)):b.reject(a.statusText))},a.ontimeout=a.onerror=function(){b.reject(a.statusText)},b}var e=a("rest"),f=a("rest/interceptor/mime"),g=a("rest/interceptor/errorCode"),h=a("when"),i=a("../events"),j=e.wrap(f,{mime:"application/json"}).wrap(g,{code:400});b.exports.makeCall=function(a){return"DELETE"===a.method.toUpperCase()&&(a.entity={_method:"DELETE"},a.method="POST"),i.trigger("http:start"),j(a).then(function(a){return i.trigger("http:end"),c(a)}).catch(function(a){throw c(a)})},b.exports.makeXMLHttpRequest=function(a){i.trigger("upload:start");var b=new XMLHttpRequest;b.open("POST",a.url,!0);for(var c in a.headers)b.setRequestHeader(c,a.headers[c]);var e=d(b);return b.upload.onprogress=function(a){e.notify({bytesUploaded:a.loaded,bytesTotal:a.total,timestamp:a.timeStamp})},b.send(a.formData),e.promise}},{"../events":11,rest:62,"rest/interceptor/errorCode":57,"rest/interceptor/mime":58,when:83}],4:[function(a,b){function c(a){return{headers:a.headers,status:a.statusCode,entity:a.body}}function d(a){var b=f.defer();return a.onreadystatechange=function(){4==a.readyState&&(a.status>=200&&a.status<300?(g.trigger("upload:end"),b.resolve(a.responseText)):b.reject(a.statusText))},a.ontimeout=a.onerror=function(){b.reject(a.statusText)},b}var e=a("ramda"),f=a("when"),g=a("../events"),h=a("../utilities/utility");b.exports.makeCall=e.curry(function(a,b){function d(a){a.emit("api",{headers:b.headers,method:b.method,url:i,body:b.entity},function(a,b){b.statusCode>=200&&b.statusCode<300?e.resolve(c(b)):e.reject(c(b)),a&&e.reject(c(a))})}var e=f.defer(),g=b.path,i=g.substr(g.search("/v"));if(b.params)for(var j in b.params)i=h.addParam(i,j,b.params);return a.isSocketConnected()?d(a.getSocket()):a.getAdhocOperations().push(d),e.promise}),b.exports.makeXMLHttpRequest=function(a){g.trigger("upload:start");var b=new XMLHttpRequest;b.open("POST",a.url,!0);for(var c in a.headers)b.setRequestHeader(c,a.headers[c]);var e=d(b);return b.upload.onprogress=function(a){e.notify({bytesUploaded:a.loaded,bytesTotal:a.total,timestamp:a.timeStamp})},b.send(a.formData),e.promise}},{"../events":11,"../utilities/utility":27,ramda:52,when:83}],5:[function(a,b){function c(a,b){d(a),b.resetBatchQueue()}function d(a){var b,c=i.keyValue;if(i.isArray(a)){if(!(a.length>0))throw new Error("Events array is empty");b=a[0].analytics}var d=h.mixin(c("events",e(a)),c("super_properties",f(b))),j=b.app.options.adaptor,k=i.getAdaptorObj("POST",g(b.app),getCombinedHeaders(b),d,null);return j.makeCall(k).then(function(){return a})}function e(a){var b={};return a.forEach(function(a){var c=b[a.getUid()]||[];c.push(i.keyValue("properties",a.getProperties())),b[a.getUid()]=c}),b}function f(a){return h.mixin(a.getDefaultProperties(),a.getSuperProperties())}function g(a){return a.getURL()+l}var h=a("ramda"),i=a("./utilities/utility"),j=a("./utilities/instanceMethodBuilder")(),k=(a("./built"),a("./analyticsEvent")),l="/events/trigger_multiple",m=b.exports=h.curry(function(a,c,d,e,f,g,h){var l={app:a,headers:c,defaultProperties:e,queue:d,trackAnonymously:f,batchSize:g,superProperties:h},m=k(a,l);return l.Event=function(a,b){if(!a)throw new Error("uid not found");return b?m(a,b):m(a,{})},i.copyProperties(l.Event,k),j.build(b.exports,l)}),n=b.exports.set=h.curry(function(a,b,c){var d=c.queue,e=c.trackAnonymously,f=c.batchSize,g=c.superProperties,h=c.headers;switch(a){case"headers":h=b;break;case"queue":d=b;break;case"trackAnonymously":e=b;break;case"batchSize":f=b;break;case"superProperties":g=b}return m(c.app,h,d,c.defaultProperties,e,f,g)});j.define("set",3);var o=b.exports.get=h.curry(function(a,b){return b[a]});j.define("get",2),b.exports.getDefaultProperties=function(a){return a.defaultProperties(16)},j.define("getDefaultProperties",1),b.exports.setBatchSize=n("batchSize"),j.define("setBatchSize",2),b.exports.getBatchSize=o("batchSize"),j.define("getBatchSize",1),b.exports.setTrackAnonymously=n("trackAnonymously"),j.define("setTrackAnonymously",2),b.exports.getTrackAnonymously=o("trackAnonymously"),j.define("getTrackAnonymously",1),b.exports.setSuperProperties=n("superProperties"),j.define("setSuperProperties",2),b.exports.getSuperProperties=o("superProperties"),j.define("getSuperProperties",1),b.exports.setHeader=h.curry(function(a,b,c){var d=h.mixin({},c.headers);return d[a]=b,n("headers",d,c)}),j.define("setHeader",3),b.exports.getHeaders=o("headers"),j.define("getHeaders",1),b.exports.trigger=function(a,b,d){i.isArray(a)||(a=[a]);var e=d.get("queue");if(b)return c(a,d);if(1===d.get("batchSize"))return c(e,d);var f=e.concat(a);return f.length>=d.getBatchSize()?c(e,d):void(d.queue=f)},j.define("trigger",3,[!1]),b.exports.flush=function(a){b.exports.trigger(a.queue,!0,a),a.resetBatchQueue()},j.define("flush",1),b.exports.getQueue=o("queue"),b.exports.resetBatchQueue=function(a){return a.queue=[],a},j.define("resetBatchQueue",1),b.exports.pushEventInQueue=h.curry(function(a,c){c.queue=c.get("queue").concat(a),c.queue.length===c.getBatchSize()&&(b.exports.trigger(c.get("queue"),!0,c),c.resetBatchQueue())}),j.define("pushEventInQueue",2)},{"./analyticsEvent":6,"./built":8,"./utilities/instanceMethodBuilder":24,"./utilities/utility":27,ramda:52}],6:[function(a,b){function c(a){return f.mixin(a.getDefaultProperties(),a.getSuperProperties())}function d(a){var b=a.app;return b.getURL()+"/events/"+a.getUid()+i}function e(a){return f.mixin({},k(a))}var f=a("ramda"),g=a("./utilities/utility"),h=a("./utilities/instanceMethodBuilder")(),i="/trigger",j=b.exports=f.curry(function(a,c,d,e){var f={app:a,analytics:c,uid:d,properties:e};return h.build(b.exports,f)}),k=b.exports.getProperties=function(a){return a.properties};h.define("getProperties",1),b.exports.getUid=function(a){return a.uid},h.define("getUid",1),b.exports.setUid=f.curry(function(a,b){return j(b.app,b.analytics,a,b.properties)}),h.define("setUid",2);var l=f.curry(function(a,b,c){b instanceof Date&&(b=b.toISOString());var d=e(c);return d[a]=b,j(c.app,c.analytics,c.uid,d)});b.exports.setProperties=f.curry(function(a,b){var c=f.mixin(a,e(b));return j(b.app,b.analytics,b.uid,c)}),h.define("setProperties",2),b.exports.setCreatedAt=l("created_at"),h.define("setCreatedAt",2),b.exports.setPreviousEventUid=l("previous_event_uid"),h.define("setPreviousEventUid",2),b.exports.trigger=function(a,b){var e=g.keyValue;if(b.analytics.getBatchSize()>1&&!a)b=b.setCreatedAt(new Date),b.analytics.pushEventInQueue(b);else{var h=f.mixin(b.getProperties(),c(b.analytics)),i=e("event",e("properties",h)),j=b.app.options.adaptor,k=g.getAdaptorObj("POST",d(b),b.app.getHeaders(),i,null);j.makeCall(k)}},h.define("trigger",2,[!1])},{"./utilities/instanceMethodBuilder":24,"./utilities/utility":27,ramda:52}],7:[function(a,b){function c(){var a=function(){return{}};return pluginsHelper.plugins.map(function(b){return b.analyticsConfig&&b.analyticsConfig.generate?void(a=b.analyticsConfig.generate):void 0}),a}function d(a){pluginsHelper.plugins.map(function(b){b.realtime&&b.realtime.onAppInstance&&b.realtime.onAppInstance(a)})}function e(a){pluginsHelper.plugins.map(function(b){b.realtime&&b.realtime.onClassCons&&b.realtime.onClassCons(a),b.realtime&&b.realtime.onUploadCons&&b.realtime.onUploadCons(a),b.realtime&&b.realtime.onUserCons&&b.realtime.onUserCons(a),b.realtime&&b.realtime.onRoleCons&&b.realtime.onRoleCons(a),b.realtime&&b.realtime.onInstallationCons&&b.realtime.onInstallationCons(a)})}function f(a,b){u.Session.COOKIE===H(b).persistSession?A.set(m(O(b)),a.authtoken):u.Session.LOCAL_STORAGE===H(b).persistSession&&B.set(m(O(b)),a)}function g(a){var c=r.getAdaptorObj("GET",b.exports.getURL(a)+"/application/users/current",b.exports.getHeaders(a),null,null);return h(a,c).then(function(b){return a.setSession(b.toJSON()),b})}function h(a,b){var c=a.options.adaptor;return c.makeCall(b).then(function(b){var c=i(b.entity.application_user,a);return a.setSession(c.toJSON()),c})}function i(a,b){return j(C.APP_USER_CLS,a,b)}function j(a,b,c){return c.Class(a).ObjectCons({},{},b,{})}function k(){try{if(!window.localStorage)throw new Error("Local Storage doesn't exist");return B.set("builttestkey","value"),B.get("builttestkey"),B.delete("builttestkey"),!0}catch(a){return console.warn("Local storage was downgraded to cookie",a),!1}}function l(a,b){var c={};return c.application_api_key=b,r.isBrowser()&&(u.Session.COOKIE===a.persistSession&&""!==A.get(m(b))?c.authtoken=A.get(m(b)):u.Session.LOCAL_STORAGE===a.persistSession&&B.get(m(b))&&(c.authtoken=B.get(m(b)).authtoken)),c}function m(a){return D+"_"+a}var n=a("ramda"),o=a("when"),p=(a("../config"),a("./class")),q=a("./upload"),r=a("./utilities/utility"),s=a("./user"),t=a("./utilities/instanceMethodBuilder")(),u=a("./built"),v=a("./role"),w=a("./notifications"),x=a("./installation"),y=a("./extension"),z=a("./analytics"),A=a("./session/cookie"),B=a("./session/local_storage"),C=a("./constants");a("./adaptors/RestfullAdaptor"),a("./adaptors/SocketAdaptor"),a("./realtime"),a("./utilities/user-agent-helper.js");var D="bauthtoken",E=b.exports=n.curry(function(a,f){var g={},h=u.Session[a.persistSession];r.isBrowser()||(h="NONE"),g.options=void 0!==a.headers?a:F(a.host,a.port,a.protocol,a.rtHost,a.rtPort,a.rtProtocol,a.version,a.adaptor,l(a,f),h,u.CachePolicy[a.cachePolicy],a.app_info,a.event_properties,a.socketData,a.isSessionUpdated,a.userJSON),g.Class=p(g,{},{}),r.copyProperties(g.Class,p);var i=(s(g,g.Class(C.APP_USER_CLS)),s(g,g.Class(C.APP_USER_CLS),{},{},{})),j=v(g,g.Class(C.APP_ROLE_CLS),{},{},{}),k=x(g,g.Class(C.APP_INSTALLATION_CLS),{},{},{}),m=w(g,{}),n=q(g,{},{}),o=z(g,{},[],c()),A=y.execute(g),B=q(g);return g.User=r.wrapper(i,[{}]),r.copyProperties(g.User,s),g.User.isAuthenticated=s.isAuthenticated(g),g.User.getSession=s.getSession(g),g.User.setSession=s.setSession(g),g.User.clearSession=s.clearSession(g),g.User.generateAuthtoken=s.generateAuthtoken(g),g.User.anyAuth=s.anyAuth(g),g.Upload=r.wrapper(n,[{}]),r.copyProperties(g.Upload,q),g.UploadCons=r.wrapper(B,[{},{},{}]),r.copyProperties(g.UploadCons,q),g.Role=r.wrapper(j,[{}]),r.copyProperties(g.Role,v),g.Role.getRoleQuery=g.Role.getRoleQuery(g),g.Notification=r.wrapper(m,[{}]),r.copyProperties(g.Notification,w),g.Installation=r.wrapper(k,[{}]),r.copyProperties(g.Installation,x),g.Extension={},g.Extension.execute=r.wrapper(A,[null,null]),g.Analytics=r.wrapper(o,[!0,1,{}]),d(g),e(g),t.build(b.exports,g)}),F=b.exports.consOptions=n.curry(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){return{host:a,port:b,protocol:c,rtHost:d,rtPort:e,rtProtocol:f,version:g,adaptor:h,headers:i,persistSession:j,cachePolicy:k,app_info:l,event_properties:m,socketData:n,isSessionUpdated:o,userJSON:p}}),G=b.exports.setAppOptions=function(a,b,c){var d=c.host,e=c.port,f=c.protocol,g=c.rtHost,h=c.rtPort,i=c.rtProtocol,j=c.version,k=c.adaptor,l=c.headers,m=c.persistSession,n=c.cachePolicy,o=c.app_info,p=c.event_properties,q=c.socketData,r=c.isSessionUpdated,s=c.userJSON;switch(a){case"host":d=b;break;case"port":e=b;break;case"protocol":f=b;break;case"rtHost":g=b;break;case"rtPort":h=b;break;case"rtProtocol":i=b;break;case"version":j=b;break;case"adaptor":k=b;break;case"headers":l=b;break;case"persistSession":m=b;break;case"cachePolicy":n=b;break;case"app_info":o=b;break;case"event_properties":p=b;break;case"socketData":q=b;break;case"isSessionUpdated":r=b;break;case"userJSON":s=b}return F(d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s)},H=b.exports.getOptions=n.prop("options");t.define("getOptions",1);var I=b.exports.getOption=function(a,b){return n.prop(a,H(b))};t.define("getOption",2);var J=b.exports.setOptions=n.curry(function(a,b){return E(a,O(b))});t.define("setOptions",2),b.exports.setSession=function(a,b){if(!a.authtoken)throw new Error("Authtoken not found in JSON");return b.setAuthToken(a.authtoken),b.setUserJSON(a),r.isBrowser()&&f(a,b),u.Events.trigger("user:save-session"),b},t.define("setSession",2),b.exports.clearSession=function(a){return a.setUserJSON(null),a.removeAuthToken(),r.isBrowser()&&(u.Session.COOKIE===H(a).persistSession?A.delete(m(O(a))):u.Session.LOCAL_STORAGE===H(a).persistSession&&B.delete(m(O(a)))),u.Events.trigger("user:clear-session"),a},t.define("clearSession",1),b.exports.getSession=function(a,b){var c=H(b).persistSession;if(b.isSessionUpdated()&&c!==u.Session.NONE||(a=!0),a)return b.setSessionUpdate(!0),g(b);var d=b.getUserJSON();if(d)return o(i(d,b));if(c===u.Session.COOKIE)return b=b.setAuthToken(A.get(m(O(b)))),g(b);if(c===u.Session.LOCAL_STORAGE){var e=o.defer(),f=B.get(m(O(b)));return f?e.resolve(b.Class(C.APP_USER_CLS).ObjectCons({},{},f,{})):e.reject(),e.promise}},t.define("getSession",2,[!1]),b.exports.generateAuthtoken=function(a,c,d,e){if(!n.prop("master_key",b.exports.getHeaders(e)))throw new Error("Master key not found in headers");if(!r.isQueryInstance(a))throw new Error("Query instance inappropriate");if(!r.isBoolean(c))throw new Error("Upsert argument should be a boolean value");if(!r.isObject(d))throw new Error("Update object inappropriate");var f={insert:c,query:a.getQueryObj(),application_user:d},g=r.getAdaptorObj("POST",b.exports.getURL(e)+"/application/users/generate_authtoken",b.exports.getHeaders(e),f,null);return h(e,g)},t.define("generateAuthtoken",4),b.exports.anyAuth=function(a,b,c,d){return d.Extension.execute(a,b,c).then(function(a){var b=d.Class(C.APP_USER_CLS).ObjectCons({},{},a.application_user,{});return d.setSession(b.toJSON()),b})},t.define("anyAuth",4),b.exports.setAuthToken=n.curry(function(a,b){var c=N(b);return c.authtoken=a,b.getOptions().userJSON=null,b}),t.define("setAuthToken",2),b.exports.setUserJSON=n.curry(function(a,b){var c=G("userJSON",a,H(b));return b.options=c,b}),t.define("setUserJSON",2),b.exports.getUserJSON=function(a){return a.getOption("userJSON")},t.define("getUserJSON",1),b.exports.getAuthToken=function(a){return N(a).authtoken},t.define("getAuthToken",1),b.exports.removeAuthToken=function(a){var b=N(a);return delete b.authtoken,a},t.define("removeAuthToken",1),b.exports.isAuthenticated=function(a){return!!N(a).authtoken},t.define("isAuthenticated",1),b.exports.persistSessionWith=n.curry(function(a,b){a!==u.Session.LOCAL_STORAGE||k()||(a=u.Session.COOKIE);var c=H(b),d=G("persistSession",a,c),e=n.mixin(l(d,b.getApiKey(b)),c.headers);return d=G("headers",e,d),J(d,b)}),t.define("persistSessionWith",2),b.exports.validateCachePolicy=function(a){return!!u.CachePolicy[a]},t.define("validateCachePolicy",2),b.exports.setCachePolicy=n.curry(function(a,b){if(b.validateCachePolicy(a)){var c=H(b),d=G("cachePolicy",a,c);return J(d,b),J(d,b)}throw new Error("Invalid cache policy")}),t.define("setCachePolicy",2),b.exports.getCachePolicy=function(a){return H(a).cachePolicy},t.define("getCachePolicy",1);var K=b.exports.setHeader=n.curry(function(a,b,c){var d=H(c),e=n.mixin({},d.headers);e[a]=b;var f=G("headers",e,d);return J(f,c)});t.define("setHeader",3);var L=b.exports.removeHeader=n.curry(function(a,b){var c=H(b),d=n.mixin({},c.headers);delete d[a];var e=G("headers",d,c);return J(e,b)});t.define("removeHeader",2),b.exports.setHost=n.curry(function(a,b){var c=H(b),d=G("host",a,c);return J(d,b)}),t.define("setHost",2);var M=n.curry(function(a,b,c){var d=H(c),e=G(a,b,d);return J(e,c)});b.exports.setRtHost=M("rtHost"),t.define("setRtHost",2),b.exports.setPort=n.curry(function(a,b){if("number"!=typeof a)throw new Error("Port number should be number");var c=H(b),d=G("port",a,c);return J(d,b)}),t.define("setPort",2),b.exports.setRtPort=n.curry(function(a,b){if("number"!=typeof a)throw new Error("Port number should be number");return M("rtPort",a,b)}),t.define("setRtPort",2),b.exports.setProtocol=n.curry(function(a,b){if("http"!==a&&"https"!==a)throw new Error("Supported protocols are http and https");var c=H(b),d=G("protocol",a,c);return J(d,b)}),t.define("setProtocol",2),b.exports.setRtProtocol=n.curry(function(a,b){if("http"!==a&&"https"!==a)throw new Error("Supported protocols are http and https");return M("rtProtocol",a,b)}),t.define("setRtProtocol",2),b.exports.setMasterKey=K("master_key"),t.define("setMasterKey",2),b.exports.getMasterKey=function(a){return a.getHeaders().master_key},t.define("getMasterKey",1),b.exports.setTenant=K("tenant_uid"),t.define("setTenant",2),b.exports.removeMasterKey=L("master_key"),t.define("removeMasterKey",2),b.exports.removeTenant=L("tenant_uid"),t.define("removeTenant",1);var N=b.exports.getHeaders=function(a){return a.options.headers};t.define("getHeaders",1),b.exports.getURL=function(a){var b=H(a);return b.protocol+"://"+b.host+":"+b.port+"/"+b.version},t.define("getURL",1),b.exports.getVersion=function(a){return H(a).version},t.define("getVersion",1),b.exports.setVersion=n.curry(function(a,b){var c=H(b),d=G("version",a,c);return J(d,b)}),t.define("setVersion",2),b.exports.setAdaptor=n.curry(function(b,c){var d=H(c),e=n.mixin({},a(b));b===u.Adaptor.SOCKET&&(e.makeCall=e.makeCall(c));var f=G("adaptor",e,d);return c.options=f,c}),t.define("setAdaptor",2),b.exports.setSessionUpdate=n.curry(function(a,b){var c=H(b),d=G("isSessionUpdated",a,c);return J(d,b)}),t.define("setSessionUpdate",2),b.exports.isSessionUpdated=function(a){return I("isSessionUpdated",a)},t.define("isSessionUpdated",1),b.exports.fetch=function(a){var c=H(a),d=a.options.adaptor,e=a.getURL()+"/applications/abc",f=r.getAdaptorObj("GET",e,b.exports.getHeaders(a),null,null);return d.makeCall(f).then(function(b){b=b.entity.application;var d={name:b.name,uid:b.uid,app_variables:b.application_variables};return J(G("app_info",d,c),a)})},t.define("fetch",1),b.exports.getName=function(a){return H(a).app_info.name},t.define("getName",1);var O=b.exports.getApiKey=function(a){return H(a).headers.application_api_key};t.define("getApiKey",1),b.exports.getAppVariables=function(a){return H(a).app_info.app_variables},t.define("getAppVariables",1)},{"../config":1,"./adaptors/RestfullAdaptor":3,"./adaptors/SocketAdaptor":4,"./analytics":5,"./built":8,"./class":9,"./constants":10,"./extension":12,"./installation":13,"./notifications":15,"./realtime":30,"./role":19,"./session/cookie":20,"./session/local_storage":21,"./upload":22,"./user":23,"./utilities/instanceMethodBuilder":24,"./utilities/user-agent-helper.js":26,"./utilities/utility":27,ramda:52,when:83}],8:[function(a,b){pluginsHelper={plugins:[],registerPlugin:function(a,b){var c={};c[a]=b,this.plugins.push(c)}};var c=a("ramda"),d=a("../config"),e=a("./acl"),f=a("./utilities/utility"),g=a("./app"),h=a("./location"),i=c.mixin({},d),j=a("./events"),k=a("./presence"),l=a("./constants");i.adaptor=a("./adaptors/RestfullAdaptor");var m="./adaptors/RestfullAdaptor",n="./adaptors/SocketAdaptor",o={COOKIE:"COOKIE",LOCAL_STORAGE:"LOCAL_STORAGE",NONE:"NONE"},l={APPLICATION_USER:l.APP_USER_CLS,APPLICATION_USER_ROLE:l.APP_ROLE_CLS,INSTALLATION:l.APP_INSTALLATION_CLS},p={ONLY_NETWORK:"ONLY_NETWORK",CACHE_ELSE_NETWORK:"CACHE_ELSE_NETWORK",NETWORK_ELSE_CACHE:"NETWORK_ELSE_CACHE",CACHE_THEN_NETWORK:"CACHE_THEN_NETWORK"},q={HTTP:m,SOCKET:n};b.exports.Constants=l,b.exports.Session=o,b.exports.CachePolicy=p,b.exports.Adaptor=q,b.exports.App=g(i),b.exports.ACL=f.wrapper(e,[{}]),b.exports.Location=f.wrapper(h,["",""]),b.exports.Events=j,b.exports.Presence=f.wrapper(k,[{}]),f.copyProperties(b.exports.ACL,e),f.copyProperties(b.exports.App,g),f.copyProperties(b.exports.Location,h),f.copyProperties(b.exports.Presence,k),Built=b.exports,Built=b.exports},{"../config":1,"./acl":2,"./adaptors/RestfullAdaptor":3,"./app":7,"./constants":10,"./events":11,"./location":14,"./presence":17,"./utilities/utility":27,ramda:52}],9:[function(a,b){function c(a){pluginsHelper.plugins.map(function(b){b.realtime&&b.realtime.onClassInstance&&b.realtime.onClassInstance(a)})}function d(a){pluginsHelper.plugins.map(function(b){b.realtime&&b.realtime.onObjectCons&&b.realtime.onObjectCons(a)})}var e=a("ramda"),f=a("./object"),g=a("./user"),h=a("./installation"),i=a("./role"),j=a("./query"),k=a("./built"),l=a("./utilities/utility"),m=a("./utilities/instanceMethodBuilder")(),n="built_io_application_user",o="built_io_application_user_role",p="built_io_installation_data",q={};q[n]=g,q[o]=i,q[p]=h,b.exports=e.curry(function(a,k,q,r){var s={app:a,headers:k,data:q,uid:r},t=l.wrapper(f(a,s,{},{},{}),[{}]),u=l.wrapper(g(a,s,{},{},{}),[{}]),v=l.wrapper(i(a,s,{},{},{}),[{}]),w=l.wrapper(h(a,s,{},{},{}),[{}]),x=l.wrapper(f(a,s),[{},{},{},{}]),y=l.wrapper(g(a,s),[{},{},{},{}]),z=l.wrapper(i(a,s),[{},{},{},{}]),A=l.wrapper(h(a,s),[{},{},{},{}]);switch(r){case n:s.Object=u,s.ObjectCons=y,l.copyProperties(s.Object,g),l.copyProperties(s.ObjectCons,g);break;case o:s.Object=v,s.ObjectCons=z,l.copyProperties(s.Object,i),l.copyProperties(s.ObjectCons,i);break;case p:s.Object=w,s.ObjectCons=A,l.copyProperties(s.Object,h),l.copyProperties(s.ObjectCons,h);break;default:s.Object=t,s.ObjectCons=x,l.copyProperties(s.Object,f),l.copyProperties(s.ObjectCons,f)}var B=j(a,s,{},a.options.cachePolicy);return s.Query=e.wrap(B,function(a,b){return a(b?b:{})}),l.copyProperties(s.Query,j),c(s),d(s),m.build(b.exports,s)}),b.exports.getHeaders=function(a){return a.headers},m.define("getHeaders",1);var r=b.exports.getCombinedHeaders=function(a){return{headers:e.mixin(a.headers,k.App.getHeaders(a.app))}};m.define("getCombinedHeaders",1),b.exports.getSchema=function(a){var b=a.app.options.adaptor,c=l.getAdaptorObj("GET",s(a),r(a).headers,null,null);return b.makeCall(c).then(function(a){return a.entity.class.schema})},m.define("getSchema",1);var s=b.exports.getURL=function(a){return k.App.getURL(a.app)+"/classes/"+a.uid};m.define("getURL",1),b.exports.getUid=function(a){return a.uid},m.define("getUid",1),b.exports.isNew=function(a){return!!a.uid},m.define("isNew",1)},{"./built":8,"./installation":13,"./object":16,"./query":18,"./role":19,"./user":23,"./utilities/instanceMethodBuilder":24,"./utilities/utility":27,ramda:52}],10:[function(a,b){b.exports.APP_USER_CLS="built_io_application_user",b.exports.APP_ROLE_CLS="built_io_application_user_role",b.exports.APP_INSTALLATION_CLS="built_io_installation_data"},{}],11:[function(a,b){var c=(a("ramda"),a("./utilities/utility"),a("./utilities/instanceMethodBuilder")(),{});c["http:start"]=[],c["http:end"]=[],c["upload:start"]=[],c["upload:end"]=[],c["user:register"]=[],c["user:activate"]=[],c["user:deactivate"]=[],c["user:login"]=[],c["user:logout"]=[],c["user:save-session"]=[],c["user:clear-session"]=[],c["user:set-current-user"]=[],b.exports.trigger=function(a,b){c[a].map(function(a){a(b)})},b.exports.on=function(a,b){var d=c[a];d.push(b)},b.exports.off=function(a,b){var d=c[a];if(2===arguments.length){var e=d.indexOf(b);e>-1&&d.splice(e,1)}else d=[]}},{"./utilities/instanceMethodBuilder":24,"./utilities/utility":27,ramda:52}],12:[function(a,b){function c(a,b){return b.getURL()+g+"/"+a}function d(a,b){b=b||{};var c=e.mixin(a.getHeaders(),b);return c}var e=a("ramda"),f=a("./utilities/utility"),g="/functions";b.exports.execute=e.curry(function(a,b,g,h){var i=a.options.adaptor,j=c(b,a),k=f.getAdaptorObj("POST",j,d(a,h),g,null);return i.makeCall(k).then(function(a){return e.prop("result",a.entity)})})},{"./utilities/utility":27,ramda:52}],13:[function(a,b){var c=a("ramda"),d=a("./object"),e=a("./utilities/utility"),f=a("./utilities/instanceMethodBuilder")();b.exports=c.curry(function(a,c,e,g,h,i){var j=d(a,c,e,{},h,i);return j.cons=b.exports,f.build(b.exports,j)}),e.copyProperties(b.exports,d),b.exports.setCurrentTimeZone=function(a){var b=(new Date).getTimezoneOffset(),c=Math.abs(b)<60?(0>b?"+":"-")+"0:"+Math.abs(b):(0>b?"+":"-")+(Math.floor(Math.abs(b)/60)+":"+Math.abs(b)%60);return a.set("timezone",c)},f.define("setCurrentTimeZone",1),b.exports.setDeviceToken=b.exports.set("device_token"),f.define("setDeviceToken",2),b.exports.setDeviceType=b.exports.set("device_type"),f.define("setDeviceType",2),b.exports.subscribeChannels=c.curry(function(a,b){if(!e.isArray(a))throw new Error("Channels should be array");return b.pushValue("subscribed_to_channels",a,b)}),f.define("subscribeChannels",2),b.exports.unsubscribeChannels=c.curry(function(a,b){if(!e.isArray(a))throw new Error("Channels should be array");return b.pullValue("subscribed_to_channels",a,b)}),f.define("unsubscribeChannels",2);var g=b.exports.getDeviceToken=b.exports.get("device_token");f.define("getDeviceToken",1),b.exports.getDeviceType=b.exports.get("device_type"),f.define("getDeviceType",1),b.exports.getSubscribedChannelList=function(a){var b=a.get("subscribed_to_channels");return b?b:a.delta.subscribed_to_channels.PUSH.data},f.define("getSubscribedChannelList",1),b.exports.save=function(a){return a.get("uid")||(a=a.upsert({device_token:g(a)})),d.save(a).then(function(a){return a})},f.define("save",1)},{"./object":16,"./utilities/instanceMethodBuilder":24,"./utilities/utility":27,ramda:52}],14:[function(a,b){function c(a,b){if("number"!=typeof a||"number"!=typeof b)throw new TypeError("Invalid data type");if(-180>a||a>180)throw new Error("Longitutde should be in the range of -180 to 180");if(-90>b||b>90)throw new Error("Latitude should be in the range of -90 to 90")}function d(a,b,c,d,e){var f=Math.PI/180,g=6378.1*e,h=b*f,i=a*f,j=d*f,k=c*f,l=i-k,m=h-j,n=Math.pow(Math.sin(m/2),2)+Math.cos(h)*Math.cos(j)*Math.pow(Math.sin(l/2),2),o=2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n)),p=g*o;return Math.ceil(p)}var e=a("ramda"),f=(a("./utilities/utility"),a("./utilities/instanceMethodBuilder")()),g=a("when"),h=b.exports=function(a,d){var e={};a&&d&&c(a,d),e.longitude=a,e.latitude=d;var g={toJSON:function(){return e},data:e};return f.build(b.exports,g)};b.exports.setLocation=e.curry(function(a,b){return h(a,b)}),f.define("setLocation",3),b.exports.getCurrentLocation=function(){var a=g.defer();return"undefined"!=typeof navigator&&"undefined"!=typeof navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(b){return a.resolve(h(b.coords.longitude,b.coords.latitude))},function(b){a.reject(b)}),a.promise},b.exports.kilometersFrom=function(a,b){var c=a.toJSON(),e=b.toJSON();return d(e.longitude,e.latitude,c.longitude,c.latitude,1)},f.define("kilometersFrom",2),b.exports.metersFrom=function(a,b){var c=a.toJSON(),e=b.toJSON();return d(e.longitude,e.latitude,c.longitude,c.latitude,1e3)},f.define("metersFrom",2),b.exports.milesFrom=function(a,b){var c=a.toJSON(),e=b.toJSON();return d(e.longitude,e.latitude,c.longitude,c.latitude,.621371)},f.define("milesFrom",2)},{"./utilities/instanceMethodBuilder":24,"./utilities/utility":27,ramda:52,when:83}],15:[function(a,b){function c(b){var c=a("./built");return c.App.getURL(b.app)+""+i}function d(a){return f.mixin({},e(a))}function e(a){return a.data}var f=a("ramda"),g=a("./utilities/utility"),h=a("./utilities/instanceMethodBuilder")(),i="/push",j=b.exports=f.curry(function(a,c,d){var e={app:a,headers:c,data:d,toJSON:function(){return d}};return h.build(b.exports,e)}),k=f.curry(function(a,b,c){if("send_at"===a&&b instanceof Date)b=b.toISOString();else if("send_at"===a&&!(b instanceof Date))throw new Error("JavaScript Date object required");var e=d(c);return e[a]=b,j(c.app,c.headers,e)});b.exports.addUsers=k("user_uids"),h.define("addUsers",2),b.exports.atTime=k("send_at"),h.define("atTime",2),b.exports.inLocalTime=k("local_push"),h.define("inLocalTime",2,[!1]),b.exports.setMessage=k("message"),h.define("setMessage",2),b.exports.send=function(a){var b=a.app.options.adaptor,d={push:e(a)},f=g.getAdaptorObj("POST",c(a),getCombinedHeaders(a),d,null);return b.makeCall(f).then(function(){return null},function(){})},h.define("send",1),getCombinedHeaders=function(b){var c=a("./built");return f.mixin(b.headers,c.App.getHeaders(b.app))}},{"./built":8,"./utilities/instanceMethodBuilder":24,"./utilities/utility":27,ramda:52}],16:[function(a,b){function c(a){pluginsHelper.plugins.map(function(b){b.realtime&&b.realtime.onObjectInstance&&b.realtime.onObjectInstance(a)
})}function d(a,b){return a.cls.ObjectCons(a.headers,{},b,{})}function e(a,b){var c;return c=a?a.extend({sync:g(b)}):f(b)}function f(a){var b=Backbone.Model.extend({idAttribute:"uid",sync:g(a)});return b}function g(a){return function(b,c,d){2==arguments.length&&(d=c,c=this),d=d||{};var e=l.mixin(c.changed,k(a)),f=a.cls.ObjectCons(a.headers,j(a),t(a),e);return"read"==b?f.fetch().then(function(a){d.success(a.toJSON())},function(a){d.error(a)}):"create"==b||"update"==b?f.save().then(function(a){d.success(a.toJSON())},function(a){d.error(a)}):"delete"==b&&f.delete().then(function(a){d.success(a)},function(a){d.error(a)}),null}}function h(a,b,c,d){if(!m.isNumber(c))throw new Error("Not a number");var e=l.mixin({},k(d)),f=!!k(d)[b];return f?e[b][a]=c:e[b]=m.keyValue(a,c),d.cls.ObjectCons(d.headers,j(d),t(d),e)}function i(a,b,c,d,e){if(""!==d&&!m.isNumber(d))throw new Error("Index value inappropriate");var f=m.keyValue(b,m.keyValue(a,{data:c,index:d})),g=l.mixin(k(e),f);return e.cls.ObjectCons(e.headers,j(e),t(e),g)}function j(a){return a.query}function k(a){return a.delta}var l=a("ramda"),m=a("./utilities/utility"),n=a("./utilities/instanceMethodBuilder")(),o=a("./built"),p="/objects",q=b.exports=l.curry(function(a,d,e,f,g,h){var i={},j={};i=m.isObject(h)?h:{uid:h},j=m.isEmpty(g)?i:g;var k={app:a,cls:d,headers:e,query:f,data:j,delta:i,toJSON:function(){return j}};return k=n.build(b.exports,k),c(k),k});b.exports.get=l.curry(function(a,b){return t(b)[a]}),n.define("get",2);var r=b.exports.getHeaders=function(a){return a.headers};n.define("getHeaders",1),b.exports.getCombinedHeaders=function(b){var c=a("./class"),d=c.getCombinedHeaders(b.cls),e=l.mixin(d.headers,b.headers);return e},n.define("getCombinedHeaders",1),b.exports.setHeader=l.curry(function(a,b,c){var d=c.headers,e=l.mixin({},d);return e[a]=b,c.cls.ObjectCons(e,j(c),t(c),k(c))}),n.define("setHeader",3),b.exports.removeHeader=l.curry(function(a,b){var c=l.mixin({},b.headers);return delete c[a],b.cls.ObjectCons(c,j(b),t(b),k(b))}),n.define("removeHeader",2);var s=b.exports.getURL=function(b){var c=a("./class");return b.isNew()?c.getURL(b.cls)+p+"/"+b.getUid():c.getURL(b.cls)+p};n.define("getURL",1),b.exports.decrement=l.curry(function(a,b,c){return h("SUB",a,b,c)}),n.define("decrement",3),b.exports.increment=l.curry(function(a,b,c){return h("ADD",a,b,c)}),n.define("increment",3),b.exports.divide=l.curry(function(a,b,c){return h("DIV",a,b,c)}),n.define("divide",3),b.exports.multiply=l.curry(function(a,b,c){return h("MUL",a,b,c)}),n.define("multiply",3);var t=b.exports.getData=function(a){return a.data};n.define("getData",1),b.exports.assign=l.curry(function(a,b){var c=l.mixin(t(b),a),d=l.mixin(k(b),a);return b.cls.ObjectCons(b.headers,j(b),c,d)}),n.define("assign",2);var u=b.exports.set=l.curry(function(a,b,c){var d=l.mixin({},t(c)),e=l.mixin({},k(c));return d[a]=b,e[a]=b,c.cls.ObjectCons(c.headers,j(c),d,e)});n.define("set",3),n.define("setTags",2),b.exports.getUid=function(a){return k(a).uid||t(a).uid},n.define("getUid",1),b.exports.setUid=u("uid"),n.define("setUid",2),b.exports.setTags=l.curry(function(a,b){var c=k(b);return c.tags=a,b.cls.ObjectCons(b.headers,j(b),t(b),c)}),n.define("setTags",2),b.exports.setLocation=l.curry(function(a,b){var c=l.mixin({},k(b)),d=a.toJSON();return c.__loc=[d.longitude,d.latitude],b.cls.ObjectCons(b.headers,j(b),t(b),c)}),n.define("setLocation",2),b.exports.getLocation=l.curry(function(a){var b=o.Location,c=a.get("__loc"),d=b(c[0],c[1]);return d}),n.define("getLocation",1),b.exports.isNew=function(a){return!!a.getUid()},n.define("isNew",1),b.exports.pushValueAtIndex=l.curry(function(a,b,c,d){return i("PUSH",a,b,c,d)}),n.define("pushValueAtIndex",4),b.exports.pushValue=l.curry(function(a,b,c){return i("PUSH",a,b,"",c)}),n.define("pushValue",3),b.exports.pullValue=l.curry(function(a,b,c){return i("PULL",a,b,"",c)}),n.define("pullValue",3),b.exports.pullValueAtIndex=l.curry(function(a,b,c){return i("PULL",a,"",b,c)}),n.define("pullValueAtIndex",3),b.exports.upsert=l.curry(function(a,b){var c=l.mixin({},k(b));return c.UPSERT=a,b.cls.ObjectCons(b.headers,j(b),t(b),c)}),n.define("upsert",2),b.exports.has=l.curry(function(a,b){return b.data.hasOwnProperty(a)}),n.define("has",2),b.exports.setACL=l.curry(function(a,b){var c=l.mixin({},k(b));return c.ACL=a.toJSON(),b.cls.ObjectCons(b.headers,j(b),t(b),c)}),n.define("setACL",2),b.exports.setReference=l.curry(function(a,b,c){var d=l.mixin({},k(c)),e=b.slice(0);if(b[0]&&b[0].app)for(var f=0;f<b.length;f++){if(!b[f].getUid())throw new Error("Uid not found");e.push(k(b[f]).uid)}return d[a]=e,c.cls.ObjectCons(c.headers,j(c),t(c),d)}),n.define("setReference",3),b.exports.setReferenceWhere=l.curry(function(a,b,c){if(!c.isNew())throw new Error("Uid not found");var d=l.mixin({},k(c));return d[a]={where:b},c.cls.ObjectCons(c.headers,j(c),t(c),d)}),n.define("setReferenceWhere",3),b.exports.upsertForReference=l.curry(function(a,b,c,d){if(!d.isNew())throw new Error("Uid not found");var e=l.mixin(c,k(d));return e[a]={UPSERT:b},d.cls.ObjectCons(d.headers,j(d),t(d),e)}),n.define("upsertForReference",4),b.exports.timeless=function(a){var b=r(a);return b.timeless=!0,a.cls.ObjectCons(b,j(a),t(a),k(a))},n.define("timeless",1);var v=b.exports.addQuery=l.curry(function(a,b,c){var d=l.mixin({},j(c));return d[a]=b,c.cls.ObjectCons(c.headers,d,t(c),k(c))});n.define("addQuery",3),b.exports.includeOwner=v("include_owner",!0),n.define("includeOwner",1),b.exports.saveAsDraft=function(a){var c=l.mixin({},k(a));c.published=!1;var d=a.cls.ObjectCons(a.headers,j(a),t(a),c);return b.exports.save(d)},n.define("saveAsDraft",1),b.exports.save=function(a){var c,e={object:k(a)},f=a.app.options.adaptor;c=a.isNew()?"PUT":"POST";var g=j(a);0===Object.keys(g).length&&(g=null);var h=m.getAdaptorObj(c,s(a),b.exports.getCombinedHeaders(a),e,g);return f.makeCall(h).then(function(b){if(b.entity.count){var c=[];return c.push(b.entity.count),c.push(d(a,b.entity.object)),c}return d(a,b.entity.object)})},n.define("save",1),b.exports.fetch=function(a){var c=a.app.options.adaptor,d=j(a);if(0===Object.keys(d).length&&(d=null),!a.isNew())throw new Error("Uid not found");var e=m.getAdaptorObj("GET",b.exports.getURL(a),b.exports.getCombinedHeaders(a),null,d);return c.makeCall(e).then(function(b){return a.cls.ObjectCons(r(a),j(a),b.entity.object,k(a))})},n.define("fetch",1),b.exports.delete=function(a){var c=a.app.options.adaptor;if(!a.isNew())throw new Error("Uid not found");var d=m.getAdaptorObj("DELETE",b.exports.getURL(a),b.exports.getCombinedHeaders(a),null,null);return c.makeCall(d).then(function(){return null})},n.define("delete",1),b.exports.toBackboneModel=function(a,b){if(!m.backboneExist())throw new Error("BACKBONE not included");var c=e(a,b);return m.isObject(b)?new c(b.toJSON()):void 0},n.define("toBackboneModel",2,[null]),q.BackboneCollection=function(a){var b=this;if(m.backboneExist()){if(a.objects){var c=Backbone.Collection.extend({sync:function(c,d,f){2==arguments.length&&(f=d,d=this),f=f||{};var g=this;if("read"===c&&b){var h=b.cls.Query();h.exec().then(function(b){for(var c=0;c<b.length;c++)if("object"==typeof b[c]){var d=e(a.model,b[c]);g.add(new d(b[c].toJSON()))}f.success(g.models)},function(a){f.error(a)})}return null}});c=new c;for(var d=0;d<a.objects.length;d++)if("object"==typeof a.objects[d]){var f=e(a.model,a.objects[d]);c.add(new f(a.objects[d].toJSON()))}return c}if(a.query){var c=Backbone.Collection.extend({sync:function(b,c,d){2==arguments.length&&(d=c,c=this),d=d||{};var f=this;if("read"==b){var g=a.query;g.exec().then(function(b){for(var c=0;c<b.length;c++){var g=e(a.model,b[c]);f.add(new g(b[c].toJSON()))}d.success(f.models)},function(a){d.error(a)})}return null}});return new c}new Error("Config argument not set properly")}}},{"./built":8,"./class":9,"./utilities/instanceMethodBuilder":24,"./utilities/utility":27,ramda:52}],17:[function(a,b){function c(a){return d.mixin({},i(a))}var d=a("ramda"),e=a("./utilities/utility"),f=a("./utilities/instanceMethodBuilder")(),g=a("when"),h=b.exports=d.curry(function(a,c){var d={toJSON:function(){return c},data:c,app:a};return f.build(b.exports,d)}),i=d.prop("data"),j=b.exports.set=d.curry(function(a,b,d){var e=c(d);return e[a]=b,h(d.app,e)});b.exports.setState=j("state"),f.define("setState",2),b.exports.setPublic=j("public"),f.define("setPublic",2),b.exports.enable=j("enabled"),f.define("enable",2),b.exports.setWhiteList=d.curry(function(a,b){if(!e.isArray(a))throw new Error("Whitelist must be array");return j("whitelist",a,b)}),f.define("setWhiteList",2),b.exports.save=function(a){return l("setPresence",i(a),a)},f.define("save",1);var k=b.exports.get=d.curry(function(a,b){return d.prop(a,i(b))});b.exports.getRequests=k("requests"),f.define("getRequests",1),b.exports.getState=k("state"),f.define("getState",1),b.exports.isPublic=k("public"),f.define("isPublic",1),b.exports.isEnabled=k("enabled"),f.define("isEnabled",1),b.exports.getApplicationUser=function(a){return d.prop("application_user",i(a))},f.define("getApplicationUser",1);var l=d.curry(function(a,b,c){function d(c){c.emit(a,b,function(a,b){a&&f.reject(a),!a&&b&&f.resolve(h(e,b.presence))})}var e=c.app,f=(e.getSocket(),g.defer());return e.isSocketConnected()?e.isSocketAuthStarted()?e.getAdhocOperations().push(d):d(e.getSocket()):e.getAdhocOperations().push(d),f.promise})},{"./utilities/instanceMethodBuilder":24,"./utilities/utility":27,ramda:52,when:83}],18:[function(a,b){function c(a,b){return n.isArray(a)?b(a):d(a,b)}function d(a,b){var c={};return a.created_at&&(c.created=b(a.created_at)),a.deleted_at&&(c.deleted=b(a.deleted_at)),a.updated_at&&(c.updated=b(a.updated_at)),c}function e(a){return a}function f(a){return{conditions:v(a),headers:a.headers}}function g(a){return p(JSON.stringify(a))}function h(a){var b=q.defer();if(n.isLocalStroageAvaliable()){var c=localStorage.getItem(a);c?b.resolve(JSON.parse(c)):b.reject(null)}else b.reject();return b.promise}function i(a){var c=a.app.options.adaptor,d=m.mixin({},v(a));d._method="GET";var e=n.getAdaptorObj("POST",k(a),b.exports.getCombinedHeaders(a),d,null);return j(e,c)}function j(a,b){return b.makeCall(a).then(function(a){return a.entity})}function k(b){var c=a("./class");return c.getURL(b.cls)+"/objects"}function l(){for(var a=null,b={},c=0;c<arguments.length;c++){var d=arguments[c];0===c%2?a=d:b[a]=d}return b}var m=a("ramda"),n=a("./utilities/utility"),o=(a("./object"),a("./utilities/instanceMethodBuilder")()),p=a("blueimp-md5").md5,q=a("when"),r=a("./built"),s="BACKBONE_TRANSFORM",t="JSON_TRANSFORM",u=b.exports=m.curry(function(a,c,d,e,f){var g={app:a,cls:c,headers:d,cachePolicy:e,data:f||{}};return o.build(b.exports,g)}),v=b.exports.getConditions=m.prop("data");o.define("getConditions",1);var w=b.exports.getQueryObj=m.compose(m.prop("query"),v);o.define("getQueryObj",1),b.exports.getTransform=m.compose(m.prop("transform"),m.prop("data")),o.define("getTransform",1),b.exports.toJSON=function(a){var b=m.mixin({},v(a));return b.transform=t,u(a.app,a.cls,a.headers,a.cachePolicy,b)},o.define("toJSON",1),b.exports.toBackbone=function(a){var b=m.mixin({},v(a));return b.transform=s,u(a.app,a.cls,a.headers,a.cachePolicy,b)},o.define("toBackbone",1);var x=b.exports.setHeader=m.curry(function(a,b,c){var d=c.headers,e=m.mixin({},d);return e[a]=b,u(c.app,c.cls,e,c.cachePolicy,v(c))});o.define("setHeader",3);var y=b.exports.removeHeader=m.curry(function(a,b){var c=b.header,d=m.mixin({},c);return delete d[a],u(b.app,b.cls,d,b.cachePolicy,v(b))});o.define("removeHeader",2),b.exports.setMasterKey=x("master_key"),o.define("setMasterKey",2),b.exports.removeMasterKey=y("master_key"),o.define("removeMasterKey",1),b.exports.getHeaders=function(a){return a.headers},o.define("getHeaders",1),b.exports.getCombinedHeaders=function(b){var c=a("./class"),d=c.getCombinedHeaders(b.cls),e=m.mixin(d.headers,b.headers);return e},o.define("getCombinedHeaders",1);var z=m.curry(function(a,b,c){var d=m.mixin({},v(c)),e=m.mixin({},w(c));return e[b]={$exists:a},d.query=e,u(c.app,c.cls,c.headers,c.cachePolicy,d)});b.exports.exists=z(!0),o.define("exists",2),b.exports.doesNotExists=z(!1),o.define("doesNotExists",2);var A=m.curry(function(a,b,c,d,e){var f=m.mixin({},v(e)),g=m.mixin({},w(e));return g[b]=l(a,{query:v(c).query,class_uid:c.cls.uid,key:d}),f.query=g,u(e.app,e.cls,e.headers,e.cachePolicy,f)});b.exports.select=A("$select"),o.define("select",4),b.exports.dontSelect=A("$dont_select"),o.define("dontSelect",4),b.exports.where=m.curry(function(a,b,c){var d=m.mixin({},v(c)),e=m.mixin({},w(c));return e[a]=b,d.query=e,u(c.app,c.cls,c.headers,c.cachePolicy,d)}),o.define("where",3);var B=b.exports.addQueryParams=m.curry(function(a,b,c){var d=m.mixin({},v(c));return d[a]=b,u(c.app,c.cls,c.headers,c.cachePolicy,d)});o.define("addQueryParams",3),b.exports.includeCount=B("include_count",!0),o.define("includeCount",1),b.exports.count=B("count",!0),o.define("count",1),b.exports.include=B("include"),o.define("include",2),b.exports.skip=B("skip"),o.define("skip",2),b.exports.limit=B("limit"),o.define("limit",2),b.exports.includeOwner=B("include_owner",!0),o.define("includeOwner",1),b.exports.includeSchema=B("include_schema",!0),o.define("includeSchema",1),b.exports.includeDrafts=B("include_unpublished",!0),o.define("includeDrafts",1),b.exports.onlyDrafts=function(a){var b=a.includeDrafts(),c=m.mixin({},v(b)),d=m.mixin({},w(b));return d.published=!1,c.query=d,u(a.app,a.cls,a.headers,a.cachePolicy,c)},o.define("onlyDrafts",1);var C=m.curry(function(a,b,c,d){var e=m.mixin({},v(d)),f=m.mixin({},w(d));return f[b]=l(a,w(c)),e.query=f,u(d.app,d.cls,d.headers,d.cachePolicy,e)});b.exports.inQuery=C("$in_query"),o.define("inQuery",3),b.exports.notInQuery=C("$nin_query"),o.define("notInQuery",3),b.exports.matches=m.curry(function(a,b,c,d){var e=m.mixin({},v(d)),f=m.mixin({},w(d));return f[a]={$regex:b,$options:c},e.query=f,u(d.app,d.cls,d.headers,d.cachePolicy,e)}),o.define("matches",4,[null]),b.exports.withinLocation=m.curry(function(a,b){var c=m.mixin({},v(b)),d=m.mixin({},w(b));if(!n.isArray(a))throw new Error("Locations should be a Array");if(a.length<3)throw new Error("Minimum 3 locations or objectUids required");var e=a.map(function(a){if(a.data)return[a.toJSON().longitude,a.toJSON.latitude];if(n.isString(a))return{object:a};throw new Error("Invalid parameter"+a)});return d.$within=e,c.query=d,u(b.app,b.cls,b.headers,b.cachePolicy,c)}),b.exports.containedIn=m.curry(function(a,b,c){var d=m.mixin({},v(c)),e=m.mixin({},w(c));return n.isArray(b)||(b=[b]),e[a]={$in:b},d.query=e,u(c.app,c.cls,c.headers,c.cachePolicy,d)}),o.define("containedIn",3),b.exports.notContainedIn=m.curry(function(a,b,c){var d=m.mixin({},v(c)),e=m.mixin({},w(c));return n.isArray(b)||(b=[b]),e[a]={$nin:b},d.query=e,u(c.app,c.cls,c.headers,c.cachePolicy,d)}),o.define("notContainedIn",3),b.exports.ascending=B("asc"),o.define("ascending",2),b.exports.descending=B("desc"),o.define("descending",2),b.exports.beforeUid=B("before_uid"),o.define("beforeUid",2),b.exports.afterUid=B("after_uid"),o.define("afterUid",2);var D=m.curry(function(a,b,c){var d=m.mixin({},v(c)),e=m.mixin({},w(c));e[a]=[];for(var f=0;f<b.length;f++){var g=v(b[f]).query;e[a].push(g)}return d.query=e,u(c.app,c.cls,c.headers,c.cachePolicy,d)});b.exports.and=D("$and"),o.define("and",2),b.exports.or=D("$or"),o.define("or",2);var E=m.curry(function(a,b,c,d){var e=m.mixin({},v(d)),f=m.mixin({},w(d));return f[b]=l(a,c),e.query=f,u(d.app,d.cls,d.headers,d.cachePolicy,e)});b.exports.greaterThan=E("$gt"),o.define("greaterThan",3),b.exports.greaterThanOrEqualTo=E("$gte"),o.define("greaterThanOrEqualTo",3),b.exports.lessThan=E("$lt"),o.define("lessThan",3),b.exports.lessThanOrEqualTo=E("$lte"),o.define("lessThanOrEqualTo",3),b.exports.notEqualTo=E("$ne"),o.define("notEqualTo",3),b.exports.setCachePolicy=m.curry(function(a,b){if(b.app.validateCachePolicy(a))return u(b.app,b.cls,b.headers,a,v(b));throw new Error("Invalid cache policy")}),o.define("setCachePolicy",2);var F=m.curry(function(a,b){return n.isLocalStroageAvaliable()&&localStorage.setItem(a,JSON.stringify(b)),b}),G=m.curry(function(a,b,c){b instanceof Date&&(b=b.toISOString());var d=m.mixin({},v(c)),e=m.mixin({},d.delta);return e[a]=b,d.delta=e,u(c.app,c.cls,c.headers,c.cachePolicy,d)});b.exports.deltaCreatedFrom=G("created_at"),o.define("deltaCreatedFrom",2),b.exports.deltaUpdatedFrom=G("updated_at"),o.define("deltaUpdatedFrom",2),b.exports.deltaDeletedFrom=G("deleted_at"),o.define("deltaDeletedFrom",2),b.exports.deltaAll=G("ALL"),o.define("deltaAll",2);var H=m.curry(function(a,b){var d=a.cls.ObjectCons,f=Object.keys(b),g=b.objects,h=a.getTransform(),i=I(d);switch(h){case s:i=J(d);break;case t:i=e}if(f.length>1){var j=[];return j.push(c(g,i)),b.schema&&j.push(b.schema),b.count&&j.push(b.count),j}return n.isNumber(g)?g:c(g,i)}),I=m.curry(function(a,b){return b.map(function(b){return a({},{},b,{})})}),J=m.curry(function(a,b){var c=I(a,b),d=a.BackboneCollection({objects:c});return d});b.exports.exec=function(a){var b=g(f(a)),c=F(b),d=H(a);switch(a.cachePolicy){case r.CachePolicy.ONLY_NETWORK:return i(a).then(d);case r.CachePolicy.CACHE_ELSE_NETWORK:return h(b).then(d).catch(function(){return i(a).then(c).then(d)});case r.CachePolicy.NETWORK_ELSE_CACHE:return i(a).then(d).catch(function(a){return h(b).then(d).catch(function(){throw a})});case r.CachePolicy.CACHE_THEN_NETWORK:var e=function(){};return{cache:h(b).then(d).then(function(a){return e(null,a),a}),network:i(a).then(d).then(function(a){return e(null,a),a}).catch(function(a){e(a,null)}),both:function(a){e=a}}}},o.define("exec",1),b.exports.nearLocation=m.curry(function(a,b,c){b=b||1e3;var d=m.mixin({},v(c)),e=m.mixin({},w(c));if(a&&a.data&&n.isNumber(b)){var f=a.toJSON();e.$near={coords:[f.longitude,f.latitude],radius:b}}else{if(!n.isString(a)||!n.isNumber(b))throw new Error("Invalid parameters");e.$near={coords:{object:a},radius:b}}return d.query=e,u(c.app,c.cls,c.headers,c.cachePolicy,d)}),o.define("nearLocation",3,[null]),b.exports.delete=function(a){var c=a.app.options.adaptor,d=m.mixin({},v(a));d._method="DELETE";var e=n.getAdaptorObj("POST",k(a),b.exports.getCombinedHeaders(a),d,null);return j(e,c).yield(null)},o.define("delete",1);var K=m.curry(function(a,b,c,d){var e=m.mixin({},v(d));return e[a]=l(b,c),u(d.app,d.cls,d.headers,d.cachePolicy,e)});b.exports.except=K("except","BASE"),o.define("except",2),b.exports.exceptReference=K("except"),o.define("exceptReference",3),b.exports.only=K("only","BASE"),o.define("only",2),b.exports.onlyReference=K("only"),o.define("onlyReference",3)},{"./built":8,"./class":9,"./object":16,"./utilities/instanceMethodBuilder":24,"./utilities/utility":27,"blueimp-md5":29,ramda:52,when:83}],19:[function(a,b){function c(a){return h.mixin({},e(a))}function d(a){return h.mixin({},f(a))}function e(a){return a.delta}function f(a){return a.data}function g(a,b){var c;if(f(b)[a])var c=[].concat(f(b)[a]);else c=[];return c}var h=a("ramda"),i=a("./utilities/utility"),j=a("./utilities/instanceMethodBuilder")(),k=a("./object"),l=a("./constants");b.exports=h.curry(function(a,c,d,e,f,g){var h=k(a,c,d,{},f,g);return j.build(b.exports,h)}),i.copyProperties(b.exports,k),b.exports.getRoleQuery=function(a){return function(){return a.Class(l.APP_ROLE_CLS).Query()}};var m=h.curry(function(a,b,e){var f=c(e),h=d(e),i=g(a,e);return i.push(b),f[a]=i,h[a]=i,e.cls.ObjectCons(e.getHeaders(),{},h,f)});b.exports.addRole=m("roles"),j.define("addRole",2),b.exports.addUser=m("users"),j.define("addUser",2),b.exports.getName=b.exports.get("name"),j.define("getName",1),b.exports.getRoles=b.exports.get("roles"),j.define("getRoles",1),b.exports.getRoleUid=b.exports.get("uid"),j.define("getRoleUid",1),b.exports.getUsers=b.exports.get("users"),j.define("getUsers",1),b.exports.setName=b.exports.set("name"),j.define("setName",2),b.exports.setRoleUid=b.exports.set("uid"),j.define("setRoleUid",2);var n=h.curry(function(a,b,c){return h.contains(b,f(c)[a])});b.exports.hasRole=n("roles"),j.define("hasRole",2),b.exports.hasUser=n("users"),j.define("hasUser",2);var o=h.curry(function(a,b,e){var f=c(e),h=d(e),i=g(a,e),j=i.indexOf(b);return j>-1&&i.splice(j,1),f[a]=i,h[a]=i,e.cls.ObjectCons(e.getHeaders(),{},h,f)});b.exports.removeRole=o("roles"),j.define("removeRole",2),b.exports.removeUser=o("users"),j.define("removeUser",2)},{"./constants":10,"./object":16,"./utilities/instanceMethodBuilder":24,"./utilities/utility":27,ramda:52}],20:[function(a,b){var c=b.exports.set=function(a,b){document.cookie=a+"="+b};b.exports.delete=function(a){c(a,"")},b.exports.get=function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1);if(-1!=e.indexOf(b))return e.substring(b.length,e.length)}return""}},{}],21:[function(a,b){b.exports.set=function(a,b){b=JSON.stringify(b),window.localStorage.setItem(a,b)},b.exports.delete=function(a){window.localStorage.removeItem(a)},b.exports.get=function(a){return window.localStorage.getItem(a)?JSON.parse(window.localStorage.getItem(a)):void 0}},{}],22:[function(a,b){function c(a){pluginsHelper.plugins.map(function(b){b.realtime&&b.realtime.onUploadInstance&&b.realtime.onUploadInstance(a)})}function d(a){return a.data}function e(a){return a.params}function e(a){return a.params}function f(a){return B(a)?"PUT":"POST"}function g(a){if(C(a)instanceof FormData)return C(a);if("undefined"!=typeof File&&C(a)instanceof File){var b=new FormData;return b.append("upload[upload]",C(a)),b}if(!C(a)||1!==C(a).nodeType&&9!==C(a).nodeType)throw new Error("HTML input file element or FormData or File required");var b=new FormData;if("file"==C(a).getAttribute("type"))return b.append("upload[upload]",C(a).files[0]),b;throw new Error("input file element required")}function h(a){if("https://api.built.io"===a.origin){var b=a.data?a.data:a.message;b=JSON.parse(b);var c=b.postmessage_payload;z[c](b),delete z[c],j(c)}}function i(){window?window.addEventListener("message",h,!1):window.attachEvent("onmessage",h)}function j(a){var b=document.getElementById("builtUploadForm"+a),c=document.getElementById("builtIFrame"+a);b.parentNode.removeChild(b),c.parentNode.removeChild(c)}function k(a){var c=a.app.options.adaptor,d={},h=g(a);return d.formData=h,d.headers=b.exports.getCombinedHeaders(a),d.url=b.exports.getURL(a),h.append("PARAM",JSON.stringify({upload:e(a)})),h.append("_method",f(a)),delete d.headers["Content-Type"],c.makeXMLHttpRequest(d).then(function(b){var c=JSON.parse(b);return A(a.app,a.headers,c.upload,c.upload.uid)})}function l(a){var c=m(a),d=p.readFileSync(C(a));return u.postData({PARAM:JSON.stringify({upload:e(a)})},[{type:o.lookup(C(a)),keyname:"upload[upload]",valuename:y.basename(C(a)),data:d}],c,b.exports.getCombinedHeaders(a)).then(function(b){var c=JSON.parse(b);return A(a.app,a.headers,c.upload,c.upload.uid)})}function m(a){var c=b.exports.getURL(a),d="",e="",f="POST";a.getUid()&&(f="PUT"),"http://"===c.substr(0,7)?d=c.split("http://")[1].split(":")[0]:"https://"===c.substr(0,8)&&(d=c.split("https://")[1].split(":")[0]);for(var g=c.split("https://")[1].split(":")[1].split("/"),h=1;h<g.length;h++)e+="/"+g[h];return{host:d,path:e,method:f,encoding:"utf8"}}function n(a){var b=C(a).cloneNode();C(a).style.display="none",C(a).parentNode.insertBefore(b,C(a));var c=Math.floor(1e3*Math.random()),d=t.defer();return z[c]=function(b){b.upload?(v.trigger("upload:end"),d.resolve(A(a.app,a.headers,b.upload,b.upload.uid))):d.reject(b)},d.promise}var o,p,q=a("ramda"),r=a("./utilities/utility"),s=a("./utilities/instanceMethodBuilder")(),t=a("when"),s=a("./utilities/instanceMethodBuilder")(),u=a("./utilities/uploadHelper"),v=a("./events"),w=a("./node"),x=w.https,y=w.path;r.isBrowser()||(o=w.mime,p=w.fs);var z={};r.isBrowser()&&i();var A=b.exports=q.curry(function(a,d,e,f){var g={};"string"==typeof f?g.uid=f:g=f;var h={app:a,headers:d,params:e,data:g,toJSON:function(){return e}};return c(h),s.build(b.exports,h)});b.exports.download=function(a){if(!a.getDownloadLink())throw new Error("Object cannot be downloaded as download link not found");if(!r.isBrowser()){var b=t.defer();return x.get(a.getDownloadLink(),function(a){b.resolve(a)}),b.promise}window.open(a.getDownloadLink())},s.define("download",1),b.exports.isNew=function(a){return!!a.data.uid},s.define("isNew",1),b.exports.setUid=q.curry(function(a,b){var c=q.mixin({},d(b));return c.uid=a,A(b.app,b.headers,b.params,c)}),s.define("setUid",2);var B=b.exports.getUid=function(a){return d(a).uid};s.define("getUid",1);var C=b.exports.getUploadPayload=function(a){return d(a).file};s.define("getUploadPayload",1),b.exports.setFile=q.curry(function(a,b){var c=q.mixin({},d(b));if(r.isBrowser()){if("undefined"!=typeof a[0]&&(c.file=a[0]),!(a&&(1===a.nodeType||9===a.nodeType)||"undefined"!=typeof FormData&&a instanceof FormData||"undefined"!=typeof File&&a instanceof File))throw new Error("The parameter is not valid or not supported by the platform. Please pass an html input elment.");c.file=a}else if(a.indexOf("://")>=0)c.file=a;else if(p.existsSync(a)){if(!p.statSync(a).isFile())throw new Error("invalid file path: "+a);c.file=a}return A(b.app,b.headers,b.params,c)}),s.define("setFile",2),b.exports.unsetFile=function(a){var b=q.mixin({},d(a));if(r.isBrowser()){var c=C(a);if(!(c&&(1===c.nodeType||9===c.nodeType)||c instanceof FormData||c instanceof File))throw new Error("No upload found")}return B(a)?A(a.app,a.headers,a.params,data.uid):(b.file=null,A(a.app,a.headers,a.params,b))},s.define("unsetFile",1),b.exports.save=function(a){if(a.app.options.adaptor,!C(a))throw new Error("No upload found");if(!r.isBrowser())return l(a);if(r.supportsFormData())return k(a);if("file"!=C(a).getAttribute("type"))throw new Error("Input file element required for upload");n(a)},s.define("save",1),b.exports.delete=function(a){var c=a.app.options.adaptor;if(!B(a))throw new Error("Upload object needs to be associated with a uid");var d=r.getAdaptorObj("DELETE",b.exports.getURL(a),b.exports.getCombinedHeaders(a),null,null);return c.makeCall(d).then(function(){return null})},s.define("delete",1),b.exports.fetch=function(a){var c=a.app.options.adaptor;if(!B(a))throw new Error("Upload object needs to be associated with a uid");var d=r.getAdaptorObj("GET",b.exports.getURL(a),b.exports.getCombinedHeaders(a),null,null);return c.makeCall(d).then(function(c){return A(a.app,b.exports.getCombinedHeaders(a),c.entity.upload,c.entity.upload.uid)})},s.define("fetch",1);var D=q.curry(function(a,b,c){var d=q.mixin({},e(c));return d[a]=b,A(c.app,c.headers,d,c.data)});b.exports.setACL=q.curry(function(a,b){var c=q.mixin({},e(b));return c.ACL=a.toJSON(),A(b.app,b.headers,c,b.data)}),s.define("setACL",2),b.exports.getACL=function(a){return e(a).ACL},s.define("getACL",1),b.exports.setTags=D("tags"),s.define("setTags",2);var E=q.curry(function(a,b){return e(b)[a]});b.exports.getDownloadLink=E("url"),s.define("getDownloadLink",1),b.exports.getTags=E("tags"),s.define("getTags",1),b.exports.getContentType=E("content_type"),s.define("getContentType",1),b.exports.getFileSize=E("file_size"),s.define("getFileSize",1),b.exports.getFileName=E("filename"),s.define("getFileName",1),b.exports.getHeaders=function(a){return a.headers},s.define("getHeaders",1),b.exports.getURL=function(b){var c=a("./built");return B(b)?c.App.getURL(b.app)+"/uploads/"+B(b):c.App.getURL(b.app)+"/uploads"},s.define("getURL",1),b.exports.getCombinedHeaders=function(b){var c=a("./built");return q.mixin(b.headers,c.App.getHeaders(b.app))},s.define("getHeaders",1)},{"./built":8,"./events":11,"./node":30,"./utilities/instanceMethodBuilder":24,"./utilities/uploadHelper":25,"./utilities/utility":27,ramda:52,when:83}],23:[function(a,b){function c(a){pluginsHelper.plugins.map(function(b){b.realtime&&b.realtime.onUserInstance&&b.realtime.onUserInstance(a)})}function d(a,c,d,e){var f=g(e)+"/retrieve_user_uid",h=k("auth_data",k(a,k(c,d))),i={application_user:m.assign(h,e).data},j=e.app.options.adaptor,l=n.getAdaptorObj("POST",f,b.exports.getCombinedHeaders(e),i,null);return j.makeCall(l).then(function(a){return e.cls.ObjectCons(b.exports.getHeaders(e),{},{},a.entity.uid)})}function e(a,b){var c={application_user:m.assign(a,b).data},d=g(b);return f("POST",d,c,b).then(function(a){return q.trigger("user:login"),a.app.setSession(a.toJSON()),a})}function f(a,c,d,e){var f=e.app.options.adaptor,g=n.getAdaptorObj(a,c,b.exports.getCombinedHeaders(e),d,null);return f.makeCall(g).then(function(a){return e.cls.ObjectCons(b.exports.getHeaders(e),{},a.entity.application_user,{})})}function g(b){var c,d=a("./built"),e=b.app;return c=i(b).uid?d.App.getURL(e)+r+"/"+i(b).uid:d.App.getURL(e)+r}function h(a){return a.app.getURL()+r+"/logout"}function i(a){return a.data}function j(a){return a.delta}function k(a,b){var c={};return c[a]=b,c}var l=a("ramda"),m=a("./object"),n=a("./utilities/utility"),o=a("when"),p=a("./utilities/instanceMethodBuilder")(),q=(a("./session/cookie"),a("./events")),r="/application/users";b.exports=l.curry(function(a,d,e,f,g,h){var i=m(a,d,e,{},g,h);return i=p.build(b.exports,i),c(i),i}),n.copyProperties(b.exports,m),b.exports.login=l.curry(function(a,b,c){var d={email:a,password:b},e={application_user:m.assign(d,c).data},g=c.app.getURL()+r+"/login";return f("POST",g,e,c).then(function(a){return q.trigger("user:login"),a.app.setSession(a.toJSON()),a})}),p.define("login",3),b.exports.logout=function(a){if(!a.app.isAuthenticated())throw new Error("User not logged in");var c=h(a),d=a.app.options.adaptor,e=n.getAdaptorObj("DELETE",c,b.exports.getCombinedHeaders(a),null,null);return d.makeCall(e).then(function(){return q.trigger("user:logout"),a.app.clearSession(),null})},p.define("logout",1),b.exports.isAuthenticated=n.appProxyHelper("isAuthenticated"),b.exports.getSession=n.appProxyHelper("getSession"),b.exports.setSession=n.appProxyHelper("setSession"),b.exports.clearSession=n.appProxyHelper("clearSession"),b.exports.generateAuthtoken=n.appProxyHelper("generateAuthtoken"),b.exports.anyAuth=n.appProxyHelper("anyAuth"),b.exports.activate=l.curry(function(a,c){if(!j(c).uid)throw new Error("Uid not found");var d=g(c)+"/activate/"+a,e=c.app.options.adaptor,f=n.getAdaptorObj("GET",d,b.exports.getCombinedHeaders(c),null,null);return e.makeCall(f).then(function(a){return q.trigger("user:activate",a.entity),null})}),p.define("activate",2),b.exports.deactivate=l.curry(function(a){if(!a.getHeaders().authtoken)throw new Error("Authentication token not found in headers");if(!i(a).uid)throw new Error("Uid not found");var c=g(a),d=a.app.options.adaptor,e=n.getAdaptorObj("DELETE",c,b.exports.getCombinedHeaders(a),null,null);return d.makeCall(e).then(function(a){return q.trigger("user:deactivate",a.entity),null})}),p.define("deactivate",1),b.exports.fetchUserUidByEmail=l.curry(function(a,c){if(!a)throw new Error("Email not found");var d=g(c)+"/retrieve_user_uid",e={email:a},f={application_user:m.assign(e,c).data},h=c.app.options.adaptor,i=n.getAdaptorObj("POST",d,b.exports.getCombinedHeaders(c),f,null);return h.makeCall(i).then(function(a){return c.cls.ObjectCons(b.exports.getHeaders(c),{},{},a.entity.uid)})}),p.define("fetchUserUidByEmail",2),b.exports.fetchUserUidByFacebookUserId=l.curry(function(a,b){if(!a)throw new Error("User id not found");return d("facebook","user_id",a,b)}),p.define("fetchUserUidByFacebookUserId",2),b.exports.fetchUserUidByGoogleEmail=l.curry(function(a,b){if(!a)throw new Error("Email address not found");return d("google","email",a,b)}),p.define("fetchUserUidByGoogleEmail",2),b.exports.fetchUserUidByTwitterUserId=l.curry(function(a,b){if(!a)throw new Error("User_id not found");return d("twitter","user_id",a,b)}),p.define("fetchUserUidByTwitterUserId",2),b.exports.register=l.curry(function(a,b,c,d){var e={email:a,password:b,password_confirmation:c},h={application_user:m.assign(e,d).data};return f("POST",g(d),h,d).then(function(a){return q.trigger("user:register",a),a})}),p.define("register",4),b.exports.forgotPassword=l.curry(function(a,c){var d=c.app.options.adaptor,e={email:a},f={application_user:m.assign(e,c).data},h=g(c)+"/forgot_password/request_password_reset",i=n.getAdaptorObj("POST",h,b.exports.getCombinedHeaders(c),f,null);
return d.makeCall(i).then(function(){return null})}),p.define("forgotPassword",2),b.exports.resetPassword=l.curry(function(a,c,d,e){var f=e.app.options.adaptor,h={reset_password_token:d,password:a,password_confirmation:c},i={application_user:m.assign(h,e).data},j=g(e)+"/forgot_password/reset_password",k=n.getAdaptorObj("POST",j,b.exports.getCombinedHeaders(e),i,null);return f.makeCall(k).then(function(){return null})}),p.define("resetPassword",4),b.exports.updateUserProfile=l.curry(function(a,c){var d={application_user:a};if(!c.get("uid"))return o.reject(new Error("Uid not found"));var e=g(c),f=c.app.options.adaptor,h=n.getAdaptorObj("PUT",e,b.exports.getCombinedHeaders(c),d,null);return f.makeCall(h).then(function(a){var d=c.cls.ObjectCons(b.exports.getHeaders(c),{},l.mixin({authtoken:c.get("authtoken")},a.entity.application_user),{});return d=d.set("authtoken",c.get("authtoken")),d.app.setSession(d.toJSON()),d})}),p.define("updateUserProfile",2),b.exports.loginWithGoogle=l.curry(function(a,b){var c={auth_data:{google:{access_token:a}}};return e(c,b)}),p.define("loginWithGoogle",2),b.exports.loginWithFacebook=l.curry(function(a,b){var c={auth_data:{facebook:{access_token:a}}};return e(c,b)}),p.define("loginWithFacebook",2),b.exports.loginWithTwitter=l.curry(function(a,b,c,d,f){var g={auth_data:{twitter:{token:a,token_secret:b,consumer_key:c,consumer_secret:d}}};return e(g,f)}),p.define("loginWithTwitter",5)},{"./built":8,"./events":11,"./object":16,"./session/cookie":20,"./utilities/instanceMethodBuilder":24,"./utilities/utility":27,ramda:52,when:83}],24:[function(a,b){var c=a("ramda");b.exports=function(){var a=[];return{define:function(b,c,d){a.push({name:b,argsLength:c,defaultValues:d})},build:function(b,d){return a.forEach(function(a){if(1===a.argsLength)d[a.name]=function(){return b[a.name].apply(null,[d])};else{var e=c.curry(c.nAry(a.argsLength,function(){var c=Array.prototype.slice.call(arguments,1,arguments.length);return c.push(arguments[0]),b[a.name].apply(null,c)}));e=e(d),d[a.name]=a.defaultValues?function(){var b=Array.prototype.slice.call(arguments,0);return b=b.concat(a.defaultValues.slice(-(a.argsLength-arguments.length))),e.apply(null,b)}:e}}),d}}}},{ramda:52}],25:[function(a,b){!function(c){function d(a,b){function d(a,b,c){var d="--"+a+"\r\n";return d+='Content-Disposition: form-data; name="'+b+'"\r\n\r\n',d+=c+"\r\n"}function e(a,b,c,d){var e="--"+a+"\r\n";return e+='Content-Disposition: form-data; name="'+c+'"; filename="'+d+'"\r\n',e+="Content-Type: "+b+"\r\n\r\n"}var f=Math.random(),g=[];if(a)for(var h in a){var i=a[h];g.push(new c(d(f,h,i),"ascii"))}if(b)for(var h in b){var i=b[h];g.push(new c(e(f,i.type,i.keyname,i.valuename),"ascii")),g.push(new c(i.data,"utf8"))}g.push(new c("\r\n--"+f+"--"),"ascii");for(var j=0,k=0;k<g.length;k++)j+=g[k].length;var l={postdata:g,headers:{"Content-Type":"multipart/form-data; boundary="+f,"Content-Length":j}};return l}function e(a,b,c,e){var f=h.defer(),j=d(a,b),k=j.headers;for(var l in e)k[l]=e[l];var m={host:c.host,path:c.path,method:c.method||"POST",headers:k};i.trigger("upload:start");for(var n=g.request(m,function(a){a.body="",a.setEncoding(c.encoding),a.on("data",function(b){a.body+=b}),a.on("end",function(){i.trigger("upload:end",JSON.parse(a.body)),f.resolve(a.body)}),a.on("error",function(){f.reject(a)})}),o=0;o<j.postdata.length;o++)n.write(j.postdata[o]);return n.end(),f.promise}var f=a("../node"),g=(f.fs,f.https),h=a("when"),i=a("../events");b.exports={getFormDataForPost:d,postData:e}}.call(this,a("buffer").Buffer)},{"../events":11,"../node":30,buffer:31,when:83}],26:[function(a){function b(){var a=h.type();return a.match(/windows/i)?"windows":a.match(/darwin/i)?"macintosh":a}function c(a){var b=k.get(l);if(b)return b;a=a||16;var b="blt"+g.randomBytes(a).toString("hex");return k.set(l,b),b}function d(a){return e?e:e="blt"+g.randomBytes(a).toString("hex")}var e,f=a("ua-parser-js"),g=a("crypto"),h=a("os"),i=a("./utility"),j=a("../../package").version,k=a("../session/local_storage"),l="blt_uuid";pluginsHelper.registerPlugin("analyticsConfig",{generate:function(a){if(i.isBrowser()){var e=navigator.userAgent,g=(new f).setUA(e).getResult(),k=window.screen?window.screen.height:"unknown",l=window.screen?window.screen.width:"unknown";return{blt_uuid:c(a),blt_browser:g.browser.name,blt_sdk:"JavaScript",blt_sdk_version:j,blt_platform:"browser",blt_os:g.os.name,blt_os_version:g.os.version,blt_screen_height:k,blt_screen_width:l,blt_screen_orientation:k>=l?"portrait":"landscape",blt_device:g.device.model}}var m=b();return{blt_uuid:d(a),blt_sdk:"JavaScript",blt_sdk_version:j,blt_platform:"nodejs",blt_os:m,blt_os_version:h.release()}}})},{"../../package":28,"../session/local_storage":21,"./utility":27,crypto:37,os:48,"ua-parser-js":66}],27:[function(a,b){b.exports.appProxyHelper=function(a){return function(b){return function(){return b[a].apply(b,arguments)}}},b.exports.copyProperties=function(a,b){for(method in b)a[method]=b[method]},b.exports.getAdaptorObj=function(a,b,c,d,e){if(!a)throw new Error("Http method is not specified");if(!b)throw new Error("Path for http request not specified");if(!c)throw new Error("Headers for http request not specified");var f={};return f.path=b,f.headers=c,f.method=a,d&&(f.entity=d),e&&(f.params=e),f},b.exports.wrapper=function(a,b){return function(){var c=Array.prototype.slice.call(arguments,0);return c=c.concat(b.slice(-(a.length-arguments.length))),a.apply(this,c)}},b.exports.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)},b.exports.isNumber=function(a){return"number"==typeof a},b.exports.isBoolean=function(a){return"boolean"==typeof a},b.exports.isString=function(a){return"string"==typeof a},b.exports.isQueryInstance=function(a){return!!a.where},b.exports.isFunction=function(a){var b={};return a&&"[object Function]"===b.toString.call(a)},b.exports.isObject=function(a){return"object"==typeof a},b.exports.isBrowser=function(){return!("undefined"==typeof window||!window.document)},b.exports.isLocalStroageAvaliable=function(){return!("undefined"==typeof localStorage)},b.exports.isEmpty=function(a){return a?0===Object.keys(a).length:void 0},b.exports.keyValue=function(){for(var a=null,b={},c=0;c<arguments.length;c++){var d=arguments[c];0===c%2?a=d:b[a]=d}return b},b.exports.backboneExist=function(){return!("undefined"==typeof Backbone||!Backbone.Model||!Backbone.Collection)},b.exports.supportsFormData=function(){return!("object"!=typeof window||"undefined"==typeof window.FormData)};var c=b.exports.encodeParam=function(a,c){return b.exports.isObject(c[a])?a+"="+encodeURIComponent(JSON.stringify(c[a])):a+"="+c[a]};b.exports.addParam=function(a,b,d){return a+=a.indexOf("?")>=0?"&"+c(b,d):"?"+c(b,d)}},{}],28:[function(a,b){b.exports={name:"built.io",description:"The built.io SDK",author:"raweng",version:"2.0.37",dependencies:{when:"3.4.3",rest:"1.1.1",ramda:"0.8.0",mime:"1.2.11","blueimp-md5":"1.1.0","ua-parser-js":"0.7.3",crypto:"0.0.3","socket.io-client":"1.2.1"},devDependencies:{"socket.io":"*",browserify:"*",chai:"*","chai-as-promised":"*",gulp:"*","gulp-add-src":"^0.2.0","gulp-buffer":"0.0.2","gulp-clean":"^0.3.1","gulp-cog":"^0.1.2","gulp-concat":"^2.4.2","gulp-json-editor":"^2.2.1","gulp-load-plugins":"^0.7.1","gulp-replace":"*","gulp-rimraf":"^0.1.1","gulp-run":"^1.6.4","gulp-shell":"^0.2.10","gulp-uglify":"^1.0.1","gulp-zip":"^2.0.2","jaguarjs-jsdoc":"0.0.1",jsdoc:"*",mocha:"*",nock:"*",rimraf:"^2.2.8","run-sequence":"^1.0.2",semver:"^4.1.0","vinyl-buffer":"^1.0.0","vinyl-source-stream":"^1.0.0"},keywords:["built","backend","baas","mbaas","sdk","javascript"],scripts:{WithoutRealtime:"node ./browserifyBuilds/WithoutRealTime.js",WithRealtime:"node ./browserifyBuilds/WithRealTime.js",generateDocsForWRT:"jsdoc -t /usr/local/lib/node_modules/jaguarjs-jsdoc/ -c templateConfig.json lib/ -d docs/docsWRT -r /home/abhijeet/Documents/node/built/jsdocReadMe/README_WRT.md",generateDocsForRT:"jsdoc -t /usr/local/lib/node_modules/jaguarjs-jsdoc/ -c templateConfig.json lib/ -d docs/docsRT -r /home/abhijeet/Documents/node/built/jsdocReadMe/README_RT.md"},main:"./lib/built"}},{}],29:[function(){!function(a){"use strict";function b(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function c(a,b){return a<<b|a>>>32-b}function d(a,d,e,f,g,h){return b(c(b(b(d,a),b(f,h)),g),e)}function e(a,b,c,e,f,g,h){return d(b&c|~b&e,a,b,f,g,h)}function f(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)}function g(a,b,c,e,f,g,h){return d(b^c^e,a,b,f,g,h)}function h(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)}function i(a,c){a[c>>5]|=128<<c%32,a[(c+64>>>9<<4)+14]=c;var d,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(d=0;d<a.length;d+=16)i=m,j=n,k=o,l=p,m=e(m,n,o,p,a[d],7,-680876936),p=e(p,m,n,o,a[d+1],12,-389564586),o=e(o,p,m,n,a[d+2],17,606105819),n=e(n,o,p,m,a[d+3],22,-1044525330),m=e(m,n,o,p,a[d+4],7,-176418897),p=e(p,m,n,o,a[d+5],12,1200080426),o=e(o,p,m,n,a[d+6],17,-1473231341),n=e(n,o,p,m,a[d+7],22,-45705983),m=e(m,n,o,p,a[d+8],7,1770035416),p=e(p,m,n,o,a[d+9],12,-1958414417),o=e(o,p,m,n,a[d+10],17,-42063),n=e(n,o,p,m,a[d+11],22,-1990404162),m=e(m,n,o,p,a[d+12],7,1804603682),p=e(p,m,n,o,a[d+13],12,-40341101),o=e(o,p,m,n,a[d+14],17,-1502002290),n=e(n,o,p,m,a[d+15],22,1236535329),m=f(m,n,o,p,a[d+1],5,-165796510),p=f(p,m,n,o,a[d+6],9,-1069501632),o=f(o,p,m,n,a[d+11],14,643717713),n=f(n,o,p,m,a[d],20,-373897302),m=f(m,n,o,p,a[d+5],5,-701558691),p=f(p,m,n,o,a[d+10],9,38016083),o=f(o,p,m,n,a[d+15],14,-660478335),n=f(n,o,p,m,a[d+4],20,-405537848),m=f(m,n,o,p,a[d+9],5,568446438),p=f(p,m,n,o,a[d+14],9,-1019803690),o=f(o,p,m,n,a[d+3],14,-187363961),n=f(n,o,p,m,a[d+8],20,1163531501),m=f(m,n,o,p,a[d+13],5,-1444681467),p=f(p,m,n,o,a[d+2],9,-51403784),o=f(o,p,m,n,a[d+7],14,1735328473),n=f(n,o,p,m,a[d+12],20,-1926607734),m=g(m,n,o,p,a[d+5],4,-378558),p=g(p,m,n,o,a[d+8],11,-2022574463),o=g(o,p,m,n,a[d+11],16,1839030562),n=g(n,o,p,m,a[d+14],23,-35309556),m=g(m,n,o,p,a[d+1],4,-1530992060),p=g(p,m,n,o,a[d+4],11,1272893353),o=g(o,p,m,n,a[d+7],16,-155497632),n=g(n,o,p,m,a[d+10],23,-1094730640),m=g(m,n,o,p,a[d+13],4,681279174),p=g(p,m,n,o,a[d],11,-358537222),o=g(o,p,m,n,a[d+3],16,-722521979),n=g(n,o,p,m,a[d+6],23,76029189),m=g(m,n,o,p,a[d+9],4,-640364487),p=g(p,m,n,o,a[d+12],11,-421815835),o=g(o,p,m,n,a[d+15],16,530742520),n=g(n,o,p,m,a[d+2],23,-995338651),m=h(m,n,o,p,a[d],6,-198630844),p=h(p,m,n,o,a[d+7],10,1126891415),o=h(o,p,m,n,a[d+14],15,-1416354905),n=h(n,o,p,m,a[d+5],21,-57434055),m=h(m,n,o,p,a[d+12],6,1700485571),p=h(p,m,n,o,a[d+3],10,-1894986606),o=h(o,p,m,n,a[d+10],15,-1051523),n=h(n,o,p,m,a[d+1],21,-2054922799),m=h(m,n,o,p,a[d+8],6,1873313359),p=h(p,m,n,o,a[d+15],10,-30611744),o=h(o,p,m,n,a[d+6],15,-1560198380),n=h(n,o,p,m,a[d+13],21,1309151649),m=h(m,n,o,p,a[d+4],6,-145523070),p=h(p,m,n,o,a[d+11],10,-1120210379),o=h(o,p,m,n,a[d+2],15,718787259),n=h(n,o,p,m,a[d+9],21,-343485551),m=b(m,i),n=b(n,j),o=b(o,k),p=b(p,l);return[m,n,o,p]}function j(a){var b,c="";for(b=0;b<32*a.length;b+=8)c+=String.fromCharCode(255&a[b>>5]>>>b%32);return c}function k(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;for(b=0;b<8*a.length;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function l(a){return j(i(k(a),8*a.length))}function m(a,b){var c,d,e=k(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=i(e,8*a.length)),c=0;16>c;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=i(f.concat(k(b)),512+8*b.length),j(i(g.concat(d),640))}function n(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(15&b>>>4)+d.charAt(15&b);return e}function o(a){return unescape(encodeURIComponent(a))}function p(a){return l(o(a))}function q(a){return n(p(a))}function r(a,b){return m(o(a),o(b))}function s(a,b){return n(r(a,b))}function t(a,b,c){return b?c?r(b,a):s(b,a):c?p(a):q(a)}"function"==typeof define&&define.amd?define(function(){return t}):a.md5=t}(this)},{}],30:[function(){},{}],31:[function(a,b,c){function d(a,b,c){if(!(this instanceof d))return new d(a,b,c);var e,f=typeof a;if("number"===f)e=a>0?a>>>0:0;else if("string"===f)"base64"===b&&(a=C(a)),e=d.byteLength(a,b);else{if("object"!==f||null===a)throw new Error("First argument needs to be a number, array or string.");"Buffer"===a.type&&E(a.data)&&(a=a.data),e=+a.length>0?Math.floor(+a.length):0}var g;T?g=d._augment(new Uint8Array(e)):(g=this,g.length=e,g._isBuffer=!0);var h;if(T&&"number"==typeof a.byteLength)g._set(a);else if(F(a))if(d.isBuffer(a))for(h=0;e>h;h++)g[h]=a.readUInt8(h);else for(h=0;e>h;h++)g[h]=(a[h]%256+256)%256;else if("string"===f)g.write(a,0,b);else if("number"===f&&!T&&!c)for(h=0;e>h;h++)g[h]=0;return g}function e(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d),d>e&&(d=e)):d=e;var f=b.length;Q(0===f%2,"Invalid hex string"),d>f/2&&(d=f/2);for(var g=0;d>g;g++){var h=parseInt(b.substr(2*g,2),16);Q(!isNaN(h),"Invalid hex string"),a[c+g]=h}return g}function f(a,b,c,d){var e=L(H(b),a,c,d);return e}function g(a,b,c,d){var e=L(I(b),a,c,d);return e}function h(a,b,c,d){return g(a,b,c,d)}function i(a,b,c,d){var e=L(K(b),a,c,d);return e}function j(a,b,c,d){var e=L(J(b),a,c,d);return e}function k(a,b,c){return R.fromByteArray(0===b&&c===a.length?a:a.slice(b,c))}function l(a,b,c){var d="",e="";c=Math.min(a.length,c);for(var f=b;c>f;f++)a[f]<=127?(d+=M(e)+String.fromCharCode(a[f]),e=""):e+="%"+a[f].toString(16);return d+M(e)}function m(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;c>e;e++)d+=String.fromCharCode(a[e]);return d}function n(a,b,c){return m(a,b,c)}function o(a,b,c){var d=a.length;(!b||0>b)&&(b=0),(!c||0>c||c>d)&&(c=d);for(var e="",f=b;c>f;f++)e+=G(a[f]);return e}function p(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function q(a,b,c,d){d||(Q("boolean"==typeof c,"missing or invalid endian"),Q(void 0!==b&&null!==b,"missing offset"),Q(b+1<a.length,"Trying to read beyond buffer length"));var e=a.length;if(!(b>=e)){var f;return c?(f=a[b],e>b+1&&(f|=a[b+1]<<8)):(f=a[b]<<8,e>b+1&&(f|=a[b+1])),f}}function r(a,b,c,d){d||(Q("boolean"==typeof c,"missing or invalid endian"),Q(void 0!==b&&null!==b,"missing offset"),Q(b+3<a.length,"Trying to read beyond buffer length"));var e=a.length;if(!(b>=e)){var f;return c?(e>b+2&&(f=a[b+2]<<16),e>b+1&&(f|=a[b+1]<<8),f|=a[b],e>b+3&&(f+=a[b+3]<<24>>>0)):(e>b+1&&(f=a[b+1]<<16),e>b+2&&(f|=a[b+2]<<8),e>b+3&&(f|=a[b+3]),f+=a[b]<<24>>>0),f}}function s(a,b,c,d){d||(Q("boolean"==typeof c,"missing or invalid endian"),Q(void 0!==b&&null!==b,"missing offset"),Q(b+1<a.length,"Trying to read beyond buffer length"));var e=a.length;if(!(b>=e)){var f=q(a,b,c,!0),g=32768&f;return g?-1*(65535-f+1):f}}function t(a,b,c,d){d||(Q("boolean"==typeof c,"missing or invalid endian"),Q(void 0!==b&&null!==b,"missing offset"),Q(b+3<a.length,"Trying to read beyond buffer length"));var e=a.length;if(!(b>=e)){var f=r(a,b,c,!0),g=2147483648&f;return g?-1*(4294967295-f+1):f}}function u(a,b,c,d){return d||(Q("boolean"==typeof c,"missing or invalid endian"),Q(b+3<a.length,"Trying to read beyond buffer length")),S.read(a,b,c,23,4)}function v(a,b,c,d){return d||(Q("boolean"==typeof c,"missing or invalid endian"),Q(b+7<a.length,"Trying to read beyond buffer length")),S.read(a,b,c,52,8)}function w(a,b,c,d,e){e||(Q(void 0!==b&&null!==b,"missing value"),Q("boolean"==typeof d,"missing or invalid endian"),Q(void 0!==c&&null!==c,"missing offset"),Q(c+1<a.length,"trying to write beyond buffer length"),N(b,65535));var f=a.length;if(!(c>=f)){for(var g=0,h=Math.min(f-c,2);h>g;g++)a[c+g]=(b&255<<8*(d?g:1-g))>>>8*(d?g:1-g);return c+2}}function x(a,b,c,d,e){e||(Q(void 0!==b&&null!==b,"missing value"),Q("boolean"==typeof d,"missing or invalid endian"),Q(void 0!==c&&null!==c,"missing offset"),Q(c+3<a.length,"trying to write beyond buffer length"),N(b,4294967295));var f=a.length;if(!(c>=f)){for(var g=0,h=Math.min(f-c,4);h>g;g++)a[c+g]=255&b>>>8*(d?g:3-g);return c+4}}function y(a,b,c,d,e){e||(Q(void 0!==b&&null!==b,"missing value"),Q("boolean"==typeof d,"missing or invalid endian"),Q(void 0!==c&&null!==c,"missing offset"),Q(c+1<a.length,"Trying to write beyond buffer length"),O(b,32767,-32768));var f=a.length;return c>=f?void 0:(b>=0?w(a,b,c,d,e):w(a,65535+b+1,c,d,e),c+2)}function z(a,b,c,d,e){e||(Q(void 0!==b&&null!==b,"missing value"),Q("boolean"==typeof d,"missing or invalid endian"),Q(void 0!==c&&null!==c,"missing offset"),Q(c+3<a.length,"Trying to write beyond buffer length"),O(b,2147483647,-2147483648));var f=a.length;return c>=f?void 0:(b>=0?x(a,b,c,d,e):x(a,4294967295+b+1,c,d,e),c+4)}function A(a,b,c,d,e){e||(Q(void 0!==b&&null!==b,"missing value"),Q("boolean"==typeof d,"missing or invalid endian"),Q(void 0!==c&&null!==c,"missing offset"),Q(c+3<a.length,"Trying to write beyond buffer length"),P(b,3.4028234663852886e38,-3.4028234663852886e38));var f=a.length;return c>=f?void 0:(S.write(a,b,c,d,23,4),c+4)}function B(a,b,c,d,e){e||(Q(void 0!==b&&null!==b,"missing value"),Q("boolean"==typeof d,"missing or invalid endian"),Q(void 0!==c&&null!==c,"missing offset"),Q(c+7<a.length,"Trying to write beyond buffer length"),P(b,1.7976931348623157e308,-1.7976931348623157e308));var f=a.length;return c>=f?void 0:(S.write(a,b,c,d,52,8),c+8)}function C(a){for(a=D(a).replace(V,"");0!==a.length%4;)a+="=";return a}function D(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function E(a){return(Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)})(a)}function F(a){return E(a)||d.isBuffer(a)||a&&"object"==typeof a&&"number"==typeof a.length}function G(a){return 16>a?"0"+a.toString(16):a.toString(16)}function H(a){for(var b=[],c=0;c<a.length;c++){var d=a.charCodeAt(c);if(127>=d)b.push(d);else{var e=c;d>=55296&&57343>=d&&c++;for(var f=encodeURIComponent(a.slice(e,c+1)).substr(1).split("%"),g=0;g<f.length;g++)b.push(parseInt(f[g],16))}}return b}function I(a){for(var b=[],c=0;c<a.length;c++)b.push(255&a.charCodeAt(c));return b}function J(a){for(var b,c,d,e=[],f=0;f<a.length;f++)b=a.charCodeAt(f),c=b>>8,d=b%256,e.push(d),e.push(c);return e}function K(a){return R.toByteArray(a)}function L(a,b,c,d){for(var e=0;d>e&&!(e+c>=b.length||e>=a.length);e++)b[e+c]=a[e];return e}function M(a){try{return decodeURIComponent(a)}catch(b){return String.fromCharCode(65533)}}function N(a,b){Q("number"==typeof a,"cannot write a non-number as a number"),Q(a>=0,"specified a negative value for writing an unsigned value"),Q(b>=a,"value is larger than maximum value for type"),Q(Math.floor(a)===a,"value has a fractional component")}function O(a,b,c){Q("number"==typeof a,"cannot write a non-number as a number"),Q(b>=a,"value larger than maximum allowed value"),Q(a>=c,"value smaller than minimum allowed value"),Q(Math.floor(a)===a,"value has a fractional component")}function P(a,b,c){Q("number"==typeof a,"cannot write a non-number as a number"),Q(b>=a,"value larger than maximum allowed value"),Q(a>=c,"value smaller than minimum allowed value")}function Q(a,b){if(!a)throw new Error(b||"Failed assertion")}var R=a("base64-js"),S=a("ieee754");c.Buffer=d,c.SlowBuffer=d,c.INSPECT_MAX_BYTES=50,d.poolSize=8192;var T=function(){try{var a=new ArrayBuffer(0),b=new Uint8Array(a);return b.foo=function(){return 42},42===b.foo()&&"function"==typeof b.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(c){return!1}}();d.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.isBuffer=function(a){return!(null==a||!a._isBuffer)},d.byteLength=function(a,b){var c;switch(a=a.toString(),b||"utf8"){case"hex":c=a.length/2;break;case"utf8":case"utf-8":c=H(a).length;break;case"ascii":case"binary":case"raw":c=a.length;break;case"base64":c=K(a).length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":c=2*a.length;break;default:throw new Error("Unknown encoding")}return c},d.concat=function(a,b){if(Q(E(a),"Usage: Buffer.concat(list[, length])"),0===a.length)return new d(0);if(1===a.length)return a[0];var c;if(void 0===b)for(b=0,c=0;c<a.length;c++)b+=a[c].length;var e=new d(b),f=0;for(c=0;c<a.length;c++){var g=a[c];g.copy(e,f),f+=g.length}return e},d.compare=function(a,b){Q(d.isBuffer(a)&&d.isBuffer(b),"Arguments must be Buffers");for(var c=a.length,e=b.length,f=0,g=Math.min(c,e);g>f&&a[f]===b[f];f++);return f!==g&&(c=a[f],e=b[f]),e>c?-1:c>e?1:0},d.prototype.write=function(a,b,c,d){if(isFinite(b))isFinite(c)||(d=c,c=void 0);else{var k=d;d=b,b=c,c=k}b=Number(b)||0;var l=this.length-b;c?(c=Number(c),c>l&&(c=l)):c=l,d=String(d||"utf8").toLowerCase();var m;switch(d){case"hex":m=e(this,a,b,c);break;case"utf8":case"utf-8":m=f(this,a,b,c);break;case"ascii":m=g(this,a,b,c);break;case"binary":m=h(this,a,b,c);break;case"base64":m=i(this,a,b,c);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":m=j(this,a,b,c);break;default:throw new Error("Unknown encoding")}return m},d.prototype.toString=function(a,b,c){var d=this;if(a=String(a||"utf8").toLowerCase(),b=Number(b)||0,c=void 0===c?d.length:Number(c),c===b)return"";var e;switch(a){case"hex":e=o(d,b,c);break;case"utf8":case"utf-8":e=l(d,b,c);break;case"ascii":e=m(d,b,c);break;case"binary":e=n(d,b,c);break;case"base64":e=k(d,b,c);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":e=p(d,b,c);break;default:throw new Error("Unknown encoding")}return e},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},d.prototype.equals=function(a){return Q(d.isBuffer(a),"Argument must be a Buffer"),0===d.compare(this,a)},d.prototype.compare=function(a){return Q(d.isBuffer(a),"Argument must be a Buffer"),d.compare(this,a)},d.prototype.copy=function(a,b,c,d){var e=this;if(c||(c=0),d||0===d||(d=this.length),b||(b=0),d!==c&&0!==a.length&&0!==e.length){Q(d>=c,"sourceEnd < sourceStart"),Q(b>=0&&b<a.length,"targetStart out of bounds"),Q(c>=0&&c<e.length,"sourceStart out of bounds"),Q(d>=0&&d<=e.length,"sourceEnd out of bounds"),d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var f=d-c;if(100>f||!T)for(var g=0;f>g;g++)a[g+b]=this[g+c];else a._set(this.subarray(c,c+f),b)}},d.prototype.slice=function(a,b){var c=this.length;if(a=~~a,b=void 0===b?c:~~b,0>a?(a+=c,0>a&&(a=0)):a>c&&(a=c),0>b?(b+=c,0>b&&(b=0)):b>c&&(b=c),a>b&&(b=a),T)return d._augment(this.subarray(a,b));for(var e=b-a,f=new d(e,void 0,!0),g=0;e>g;g++)f[g]=this[g+a];return f},d.prototype.get=function(a){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(a)},d.prototype.set=function(a,b){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(a,b)},d.prototype.readUInt8=function(a,b){return b||(Q(void 0!==a&&null!==a,"missing offset"),Q(a<this.length,"Trying to read beyond buffer length")),a>=this.length?void 0:this[a]},d.prototype.readUInt16LE=function(a,b){return q(this,a,!0,b)},d.prototype.readUInt16BE=function(a,b){return q(this,a,!1,b)},d.prototype.readUInt32LE=function(a,b){return r(this,a,!0,b)},d.prototype.readUInt32BE=function(a,b){return r(this,a,!1,b)},d.prototype.readInt8=function(a,b){if(b||(Q(void 0!==a&&null!==a,"missing offset"),Q(a<this.length,"Trying to read beyond buffer length")),!(a>=this.length)){var c=128&this[a];return c?-1*(255-this[a]+1):this[a]}},d.prototype.readInt16LE=function(a,b){return s(this,a,!0,b)},d.prototype.readInt16BE=function(a,b){return s(this,a,!1,b)},d.prototype.readInt32LE=function(a,b){return t(this,a,!0,b)},d.prototype.readInt32BE=function(a,b){return t(this,a,!1,b)},d.prototype.readFloatLE=function(a,b){return u(this,a,!0,b)},d.prototype.readFloatBE=function(a,b){return u(this,a,!1,b)},d.prototype.readDoubleLE=function(a,b){return v(this,a,!0,b)},d.prototype.readDoubleBE=function(a,b){return v(this,a,!1,b)},d.prototype.writeUInt8=function(a,b,c){return c||(Q(void 0!==a&&null!==a,"missing value"),Q(void 0!==b&&null!==b,"missing offset"),Q(b<this.length,"trying to write beyond buffer length"),N(a,255)),b>=this.length?void 0:(this[b]=a,b+1)},d.prototype.writeUInt16LE=function(a,b,c){return w(this,a,b,!0,c)},d.prototype.writeUInt16BE=function(a,b,c){return w(this,a,b,!1,c)},d.prototype.writeUInt32LE=function(a,b,c){return x(this,a,b,!0,c)},d.prototype.writeUInt32BE=function(a,b,c){return x(this,a,b,!1,c)},d.prototype.writeInt8=function(a,b,c){return c||(Q(void 0!==a&&null!==a,"missing value"),Q(void 0!==b&&null!==b,"missing offset"),Q(b<this.length,"Trying to write beyond buffer length"),O(a,127,-128)),b>=this.length?void 0:(a>=0?this.writeUInt8(a,b,c):this.writeUInt8(255+a+1,b,c),b+1)},d.prototype.writeInt16LE=function(a,b,c){return y(this,a,b,!0,c)},d.prototype.writeInt16BE=function(a,b,c){return y(this,a,b,!1,c)},d.prototype.writeInt32LE=function(a,b,c){return z(this,a,b,!0,c)},d.prototype.writeInt32BE=function(a,b,c){return z(this,a,b,!1,c)},d.prototype.writeFloatLE=function(a,b,c){return A(this,a,b,!0,c)},d.prototype.writeFloatBE=function(a,b,c){return A(this,a,b,!1,c)},d.prototype.writeDoubleLE=function(a,b,c){return B(this,a,b,!0,c)},d.prototype.writeDoubleBE=function(a,b,c){return B(this,a,b,!1,c)},d.prototype.fill=function(a,b,c){if(a||(a=0),b||(b=0),c||(c=this.length),Q(c>=b,"end < start"),c!==b&&0!==this.length){Q(b>=0&&b<this.length,"start out of bounds"),Q(c>=0&&c<=this.length,"end out of bounds");var d;if("number"==typeof a)for(d=b;c>d;d++)this[d]=a;else{var e=H(a.toString()),f=e.length;for(d=b;c>d;d++)this[d]=e[d%f]}return this}},d.prototype.inspect=function(){for(var a=[],b=this.length,d=0;b>d;d++)if(a[d]=G(this[d]),d===c.INSPECT_MAX_BYTES){a[d+1]="...";break}return"<Buffer "+a.join(" ")+">"},d.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(T)return new d(this).buffer;for(var a=new Uint8Array(this.length),b=0,c=a.length;c>b;b+=1)a[b]=this[b];return a.buffer}throw new Error("Buffer.toArrayBuffer not supported in this browser")};var U=d.prototype;d._augment=function(a){return a._isBuffer=!0,a._get=a.get,a._set=a.set,a.get=U.get,a.set=U.set,a.write=U.write,a.toString=U.toString,a.toLocaleString=U.toString,a.toJSON=U.toJSON,a.equals=U.equals,a.compare=U.compare,a.copy=U.copy,a.slice=U.slice,a.readUInt8=U.readUInt8,a.readUInt16LE=U.readUInt16LE,a.readUInt16BE=U.readUInt16BE,a.readUInt32LE=U.readUInt32LE,a.readUInt32BE=U.readUInt32BE,a.readInt8=U.readInt8,a.readInt16LE=U.readInt16LE,a.readInt16BE=U.readInt16BE,a.readInt32LE=U.readInt32LE,a.readInt32BE=U.readInt32BE,a.readFloatLE=U.readFloatLE,a.readFloatBE=U.readFloatBE,a.readDoubleLE=U.readDoubleLE,a.readDoubleBE=U.readDoubleBE,a.writeUInt8=U.writeUInt8,a.writeUInt16LE=U.writeUInt16LE,a.writeUInt16BE=U.writeUInt16BE,a.writeUInt32LE=U.writeUInt32LE,a.writeUInt32BE=U.writeUInt32BE,a.writeInt8=U.writeInt8,a.writeInt16LE=U.writeInt16LE,a.writeInt16BE=U.writeInt16BE,a.writeInt32LE=U.writeInt32LE,a.writeInt32BE=U.writeInt32BE,a.writeFloatLE=U.writeFloatLE,a.writeFloatBE=U.writeFloatBE,a.writeDoubleLE=U.writeDoubleLE,a.writeDoubleBE=U.writeDoubleBE,a.fill=U.fill,a.inspect=U.inspect,a.toArrayBuffer=U.toArrayBuffer,a};var V=/[^+\/0-9A-z]/g},{"base64-js":32,ieee754:33}],32:[function(a,b,c){var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(a){"use strict";function b(a){var b=a.charCodeAt(0);return b===g?62:b===h?63:i>b?-1:i+10>b?b-i+26+26:k+26>b?b-k:j+26>b?b-j+26:void 0}function c(a){function c(a){j[l++]=a}var d,e,g,h,i,j;if(a.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var k=a.length;i="="===a.charAt(k-2)?2:"="===a.charAt(k-1)?1:0,j=new f(3*a.length/4-i),g=i>0?a.length-4:a.length;var l=0;for(d=0,e=0;g>d;d+=4,e+=3)h=b(a.charAt(d))<<18|b(a.charAt(d+1))<<12|b(a.charAt(d+2))<<6|b(a.charAt(d+3)),c((16711680&h)>>16),c((65280&h)>>8),c(255&h);return 2===i?(h=b(a.charAt(d))<<2|b(a.charAt(d+1))>>4,c(255&h)):1===i&&(h=b(a.charAt(d))<<10|b(a.charAt(d+1))<<4|b(a.charAt(d+2))>>2,c(255&h>>8),c(255&h)),j}function e(a){function b(a){return d.charAt(a)}function c(a){return b(63&a>>18)+b(63&a>>12)+b(63&a>>6)+b(63&a)}var e,f,g,h=a.length%3,i="";for(e=0,g=a.length-h;g>e;e+=3)f=(a[e]<<16)+(a[e+1]<<8)+a[e+2],i+=c(f);switch(h){case 1:f=a[a.length-1],i+=b(f>>2),i+=b(63&f<<4),i+="==";break;case 2:f=(a[a.length-2]<<8)+a[a.length-1],i+=b(f>>10),i+=b(63&f>>4),i+=b(63&f<<2),i+="="}return i}var f="undefined"!=typeof Uint8Array?Uint8Array:Array,g="+".charCodeAt(0),h="/".charCodeAt(0),i="0".charCodeAt(0),j="a".charCodeAt(0),k="A".charCodeAt(0);a.toByteArray=c,a.fromByteArray=e}("undefined"==typeof c?this.base64js={}:c)},{}],33:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?0/0:1/0*(n?-1:1);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||1/0===b?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],34:[function(a,b){!function(c){function d(a){return function(){var b=[],d={update:function(a,d){return c.isBuffer(a)||(a=new c(a,d)),b.push(a),this},digest:function(d){var e=c.concat(b),f=a(e);return b=null,d?f.toString(d):f}};return d}}var e=a("sha.js"),f=d(a("./md5")),g=d(a("ripemd160"));b.exports=function(a){return"md5"===a?new f:"rmd160"===a?new g:e(a)}}.call(this,a("buffer").Buffer)},{"./md5":38,buffer:31,ripemd160:39,"sha.js":41}],35:[function(a,b){!function(c){function d(a,b){if(!(this instanceof d))return new d(a,b);this._opad=i,this._alg=a,b=this._key=c.isBuffer(b)?b:new c(b),b.length>f?b=e(a).update(b).digest():b.length<f&&(b=c.concat([b,g],f));for(var h=this._ipad=new c(f),i=this._opad=new c(f),j=0;f>j;j++)h[j]=54^b[j],i[j]=92^b[j];this._hash=e(a).update(h)}var e=a("./create-hash"),f=64,g=new c(f);g.fill(0),b.exports=d,d.prototype.update=function(a,b){return this._hash.update(a,b),this},d.prototype.digest=function(a){var b=this._hash.digest();return e(this._alg).update(this._opad).update(b).digest(a)}}.call(this,a("buffer").Buffer)},{"./create-hash":34,buffer:31}],36:[function(a,b){!function(a){function c(b,c){if(0!==b.length%f){var d=b.length+(f-b.length%f);b=a.concat([b,g],d)}for(var e=[],h=c?b.readInt32BE:b.readInt32LE,i=0;i<b.length;i+=f)e.push(h.call(b,i));return e}function d(b,c,d){for(var e=new a(c),f=d?e.writeInt32BE:e.writeInt32LE,g=0;g<b.length;g++)f.call(e,b[g],4*g,!0);return e}function e(b,e,f,g){a.isBuffer(b)||(b=new a(b));var i=e(c(b,g),b.length*h);return d(i,f,g)}var f=4,g=new a(f);g.fill(0);var h=8;b.exports={hash:e}}.call(this,a("buffer").Buffer)},{buffer:31}],37:[function(a,b,c){!function(b){function d(){var a=[].slice.call(arguments).join(" ");throw new Error([a,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function e(a,b){for(var c in a)b(a[c],c)}var f=a("./rng");c.createHash=a("./create-hash"),c.createHmac=a("./create-hmac"),c.randomBytes=function(a,c){if(!c||!c.call)return new b(f(a));try{c.call(this,void 0,new b(f(a)))}catch(d){c(d)}},c.getHashes=function(){return["sha1","sha256","md5","rmd160"]};var g=a("./pbkdf2")(c.createHmac);c.pbkdf2=g.pbkdf2,c.pbkdf2Sync=g.pbkdf2Sync,e(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman"],function(a){c[a]=function(){d("sorry,",a,"is not implemented yet")}})}.call(this,a("buffer").Buffer)},{"./create-hash":34,"./create-hmac":35,"./pbkdf2":45,"./rng":46,buffer:31}],38:[function(a,b){function c(a,b){a[b>>5]|=128<<b%32,a[(b+64>>>9<<4)+14]=b;
for(var c=1732584193,d=-271733879,j=-1732584194,k=271733878,l=0;l<a.length;l+=16){var m=c,n=d,o=j,p=k;c=e(c,d,j,k,a[l+0],7,-680876936),k=e(k,c,d,j,a[l+1],12,-389564586),j=e(j,k,c,d,a[l+2],17,606105819),d=e(d,j,k,c,a[l+3],22,-1044525330),c=e(c,d,j,k,a[l+4],7,-176418897),k=e(k,c,d,j,a[l+5],12,1200080426),j=e(j,k,c,d,a[l+6],17,-1473231341),d=e(d,j,k,c,a[l+7],22,-45705983),c=e(c,d,j,k,a[l+8],7,1770035416),k=e(k,c,d,j,a[l+9],12,-1958414417),j=e(j,k,c,d,a[l+10],17,-42063),d=e(d,j,k,c,a[l+11],22,-1990404162),c=e(c,d,j,k,a[l+12],7,1804603682),k=e(k,c,d,j,a[l+13],12,-40341101),j=e(j,k,c,d,a[l+14],17,-1502002290),d=e(d,j,k,c,a[l+15],22,1236535329),c=f(c,d,j,k,a[l+1],5,-165796510),k=f(k,c,d,j,a[l+6],9,-1069501632),j=f(j,k,c,d,a[l+11],14,643717713),d=f(d,j,k,c,a[l+0],20,-373897302),c=f(c,d,j,k,a[l+5],5,-701558691),k=f(k,c,d,j,a[l+10],9,38016083),j=f(j,k,c,d,a[l+15],14,-660478335),d=f(d,j,k,c,a[l+4],20,-405537848),c=f(c,d,j,k,a[l+9],5,568446438),k=f(k,c,d,j,a[l+14],9,-1019803690),j=f(j,k,c,d,a[l+3],14,-187363961),d=f(d,j,k,c,a[l+8],20,1163531501),c=f(c,d,j,k,a[l+13],5,-1444681467),k=f(k,c,d,j,a[l+2],9,-51403784),j=f(j,k,c,d,a[l+7],14,1735328473),d=f(d,j,k,c,a[l+12],20,-1926607734),c=g(c,d,j,k,a[l+5],4,-378558),k=g(k,c,d,j,a[l+8],11,-2022574463),j=g(j,k,c,d,a[l+11],16,1839030562),d=g(d,j,k,c,a[l+14],23,-35309556),c=g(c,d,j,k,a[l+1],4,-1530992060),k=g(k,c,d,j,a[l+4],11,1272893353),j=g(j,k,c,d,a[l+7],16,-155497632),d=g(d,j,k,c,a[l+10],23,-1094730640),c=g(c,d,j,k,a[l+13],4,681279174),k=g(k,c,d,j,a[l+0],11,-358537222),j=g(j,k,c,d,a[l+3],16,-722521979),d=g(d,j,k,c,a[l+6],23,76029189),c=g(c,d,j,k,a[l+9],4,-640364487),k=g(k,c,d,j,a[l+12],11,-421815835),j=g(j,k,c,d,a[l+15],16,530742520),d=g(d,j,k,c,a[l+2],23,-995338651),c=h(c,d,j,k,a[l+0],6,-198630844),k=h(k,c,d,j,a[l+7],10,1126891415),j=h(j,k,c,d,a[l+14],15,-1416354905),d=h(d,j,k,c,a[l+5],21,-57434055),c=h(c,d,j,k,a[l+12],6,1700485571),k=h(k,c,d,j,a[l+3],10,-1894986606),j=h(j,k,c,d,a[l+10],15,-1051523),d=h(d,j,k,c,a[l+1],21,-2054922799),c=h(c,d,j,k,a[l+8],6,1873313359),k=h(k,c,d,j,a[l+15],10,-30611744),j=h(j,k,c,d,a[l+6],15,-1560198380),d=h(d,j,k,c,a[l+13],21,1309151649),c=h(c,d,j,k,a[l+4],6,-145523070),k=h(k,c,d,j,a[l+11],10,-1120210379),j=h(j,k,c,d,a[l+2],15,718787259),d=h(d,j,k,c,a[l+9],21,-343485551),c=i(c,m),d=i(d,n),j=i(j,o),k=i(k,p)}return Array(c,d,j,k)}function d(a,b,c,d,e,f){return i(j(i(i(b,a),i(d,f)),e),c)}function e(a,b,c,e,f,g,h){return d(b&c|~b&e,a,b,f,g,h)}function f(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)}function g(a,b,c,e,f,g,h){return d(b^c^e,a,b,f,g,h)}function h(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)}function i(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function j(a,b){return a<<b|a>>>32-b}var k=a("./helpers");b.exports=function(a){return k.hash(a,c,16)}},{"./helpers":36}],39:[function(a,b){!function(a){function c(a,b,c){return a^b^c}function d(a,b,c){return a&b|~a&c}function e(a,b,c){return(a|~b)^c}function f(a,b,c){return a&c|b&~c}function g(a,b,c){return a^(b|~c)}function h(a,b){return a<<b|a>>>32-b}function i(b){var c=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof b&&(b=new a(b,"utf8"));var d=p(b),e=8*b.length,f=8*b.length;d[e>>>5]|=128<<24-e%32,d[(e+64>>>9<<4)+14]=16711935&(f<<8|f>>>24)|4278255360&(f<<24|f>>>8);for(var g=0;g<d.length;g+=16)r(c,d,g);for(var g=0;5>g;g++){var h=c[g];c[g]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)}var i=q(c);return new a(i)}b.exports=i;var j=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],k=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],l=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],n=[0,1518500249,1859775393,2400959708,2840853838],o=[1352829926,1548603684,1836072691,2053994217,0],p=function(a){for(var b=[],c=0,d=0;c<a.length;c++,d+=8)b[d>>>5]|=a[c]<<24-d%32;return b},q=function(a){for(var b=[],c=0;c<32*a.length;c+=8)b.push(255&a[c>>>5]>>>24-c%32);return b},r=function(a,b,i){for(var p=0;16>p;p++){var q=i+p,r=b[q];b[q]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8)}var s,t,u,v,w,x,y,z,A,B;x=s=a[0],y=t=a[1],z=u=a[2],A=v=a[3],B=w=a[4];for(var C,p=0;80>p;p+=1)C=0|s+b[i+j[p]],C+=16>p?c(t,u,v)+n[0]:32>p?d(t,u,v)+n[1]:48>p?e(t,u,v)+n[2]:64>p?f(t,u,v)+n[3]:g(t,u,v)+n[4],C=0|C,C=h(C,l[p]),C=0|C+w,s=w,w=v,v=h(u,10),u=t,t=C,C=0|x+b[i+k[p]],C+=16>p?g(y,z,A)+o[0]:32>p?f(y,z,A)+o[1]:48>p?e(y,z,A)+o[2]:64>p?d(y,z,A)+o[3]:c(y,z,A)+o[4],C=0|C,C=h(C,m[p]),C=0|C+B,x=B,B=A,A=h(z,10),z=y,y=C;C=0|a[1]+u+A,a[1]=0|a[2]+v+B,a[2]=0|a[3]+w+x,a[3]=0|a[4]+s+y,a[4]=0|a[0]+t+z,a[0]=C}}.call(this,a("buffer").Buffer)},{buffer:31}],40:[function(a,b){var c=a("./util"),d=c.write,e=c.zeroFill;b.exports=function(a){function b(b,c){this._block=new a(b),this._finalSize=c,this._blockSize=b,this._len=0,this._s=0}function f(a,b){return null==b?a.byteLength||a.length:"ascii"==b||"binary"==b?a.length:"hex"==b?a.length/2:"base64"==b?a.length/3:void 0}return b.prototype.init=function(){this._s=0,this._len=0},b.prototype.update=function(b,c){var e,g=this._blockSize;c||"string"!=typeof b||(c="utf8"),c?("utf-8"===c&&(c="utf8"),("base64"===c||"utf8"===c)&&(b=new a(b,c),c=null),e=f(b,c)):e=b.byteLength||b.length;for(var h=this._len+=e,i=this._s=this._s||0,j=0,k=this._block;h>i;){var l=Math.min(e,j+g-i%g);d(k,b,c,i%g,j,l);var m=l-j;i+=m,j+=m,i%g||this._update(k)}return this._s=i,this},b.prototype.digest=function(a){var b=this._blockSize,d=this._finalSize,f=8*this._len,g=this._block,h=f%(8*b);g[this._len%b]=128,e(this._block,this._len%b+1),h>=8*d&&(this._update(this._block),c.zeroFill(this._block,0)),g.writeInt32BE(f,d+4);var i=this._update(this._block)||this._hash();return null==a?i:i.toString(a)},b.prototype._update=function(){throw new Error("_update must be implemented by subclass")},b}},{"./util":44}],41:[function(a,b,c){var c=b.exports=function(a){var b=c[a];if(!b)throw new Error(a+" is not supported (we accept pull requests)");return new b},d=a("buffer").Buffer,e=a("./hash")(d);c.sha=c.sha1=a("./sha1")(d,e),c.sha256=a("./sha256")(d,e)},{"./hash":40,"./sha1":42,"./sha256":43,buffer:31}],42:[function(a,b){b.exports=function(b,c){function d(){return p.length?p.pop().init():this instanceof d?(this._w=o,c.call(this,64,56),this._h=null,void this.init()):new d}function e(a,b,c,d){return 20>a?b&c|~b&d:40>a?b^c^d:60>a?b&c|b&d|c&d:b^c^d}function f(a){return 20>a?1518500249:40>a?1859775393:60>a?-1894007588:-899497514}function g(a,b){return 0|a+b}function h(a,b){return a<<b|a>>>32-b}var i=a("util").inherits;i(d,c);var j=0,k=4,l=8,m=12,n=16,o=new Int32Array(80),p=[];return d.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,c.prototype.init.call(this),this},d.prototype._POOL=p,new b(1)instanceof DataView,d.prototype._update=function(){var a,b,c,d,i,j,k,l,m,n,o=this._block;this._h,a=j=this._a,b=k=this._b,c=l=this._c,d=m=this._d,i=n=this._e;for(var p=this._w,q=0;80>q;q++){var r=p[q]=16>q?o.readInt32BE(4*q):h(p[q-3]^p[q-8]^p[q-14]^p[q-16],1),s=g(g(h(a,5),e(q,b,c,d)),g(g(i,r),f(q)));i=d,d=c,c=h(b,30),b=a,a=s}this._a=g(a,j),this._b=g(b,k),this._c=g(c,l),this._d=g(d,m),this._e=g(i,n)},d.prototype._hash=function(){p.length<100&&p.push(this);var a=new b(20);return a.writeInt32BE(0|this._a,j),a.writeInt32BE(0|this._b,k),a.writeInt32BE(0|this._c,l),a.writeInt32BE(0|this._d,m),a.writeInt32BE(0|this._e,n),a},d}},{util:51}],43:[function(a,b){var c=a("util").inherits;a("./util"),b.exports=function(a,b){function d(){o.length,this.init(),this._w=n,b.call(this,64,56)}function e(a,b){return a>>>b|a<<32-b}function f(a,b){return a>>>b}function g(a,b,c){return a&b^~a&c}function h(a,b,c){return a&b^a&c^b&c}function i(a){return e(a,2)^e(a,13)^e(a,22)}function j(a){return e(a,6)^e(a,11)^e(a,25)}function k(a){return e(a,7)^e(a,18)^f(a,3)}function l(a){return e(a,17)^e(a,19)^f(a,10)}var m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];c(d,b);var n=new Array(64),o=[];return d.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._len=this._s=0,this},d.prototype._update=function(){var a,b,c,d,e,f,n,o,p,q,r=this._block,s=this._w;a=0|this._a,b=0|this._b,c=0|this._c,d=0|this._d,e=0|this._e,f=0|this._f,n=0|this._g,o=0|this._h;for(var t=0;64>t;t++){var u=s[t]=16>t?r.readInt32BE(4*t):l(s[t-2])+s[t-7]+k(s[t-15])+s[t-16];p=o+j(e)+g(e,f,n)+m[t]+u,q=i(a)+h(a,b,c),o=n,n=f,f=e,e=d+p,d=c,c=b,b=a,a=p+q}this._a=0|a+this._a,this._b=0|b+this._b,this._c=0|c+this._c,this._d=0|d+this._d,this._e=0|e+this._e,this._f=0|f+this._f,this._g=0|n+this._g,this._h=0|o+this._h},d.prototype._hash=function(){o.length<10&&o.push(this);var b=new a(32);return b.writeInt32BE(this._a,0),b.writeInt32BE(this._b,4),b.writeInt32BE(this._c,8),b.writeInt32BE(this._d,12),b.writeInt32BE(this._e,16),b.writeInt32BE(this._f,20),b.writeInt32BE(this._g,24),b.writeInt32BE(this._h,28),b},d}},{"./util":44,util:51}],44:[function(a,b,c){function d(a,b,c,d,e,f){var g=f-e;if("ascii"===c||"binary"===c)for(var h=0;g>h;h++)a[d+h]=b.charCodeAt(h+e);else if(null==c)for(var h=0;g>h;h++)a[d+h]=b[h+e];else{if("hex"!==c)throw new Error("base64"===c?"base64 encoding not yet supported":c+" encoding not yet supported");for(var h=0;g>h;h++){var i=e+h;a[d+h]=parseInt(b[2*i]+b[2*i+1],16)}}}function e(a,b){for(var c=b;c<a.length;c++)a[c]=0}c.write=d,c.zeroFill=e,c.toString=toString},{}],45:[function(a,b){!function(a){var c=64,d=new a(c);d.fill(0),b.exports=function(b,e){return e=e||{},e.pbkdf2=function(a,b,c,d,f){if("function"!=typeof f)throw new Error("No callback provided to pbkdf2");setTimeout(function(){f(null,e.pbkdf2Sync(a,b,c,d))})},e.pbkdf2Sync=function(e,f,g,h){if("number"!=typeof g)throw new TypeError("Iterations not a number");if(0>g)throw new TypeError("Bad iterations");if("number"!=typeof h)throw new TypeError("Key length not a number");if(0>h)throw new TypeError("Bad key length");var e=a.isBuffer(e)?e:new a(e);e.length>c?e=createHash(alg).update(e).digest():e.length<c&&(e=a.concat([e,d],c));var i,j,k,l=0,m=1,n=new a(4),o=new a(h);for(o.fill(0);h;){j=h>20?20:h,n[0]=255&m>>24,n[1]=255&m>>16,n[2]=255&m>>8,n[3]=255&m,i=b("sha1",e),i.update(f),i.update(n),k=i.digest(),k.copy(o,l,0,j);for(var p=1;g>p;p++){i=b("sha1",e),i.update(k),k=i.digest();for(var q=0;j>q;q++)o[q]^=k[q]}h-=j,m++,l+=j}return o},e}}.call(this,a("buffer").Buffer)},{buffer:31}],46:[function(a,b){!function(a){!function(){b.exports=function(b){var c=new a(b);return crypto.getRandomValues(c),c}}()}.call(this,a("buffer").Buffer)},{buffer:31}],47:[function(a,b){b.exports="function"==typeof Object.create?function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],48:[function(a,b,c){c.endianness=function(){return"LE"},c.hostname=function(){return"undefined"!=typeof location?location.hostname:""},c.loadavg=function(){return[]},c.uptime=function(){return 0},c.freemem=function(){return Number.MAX_VALUE},c.totalmem=function(){return Number.MAX_VALUE},c.cpus=function(){return[]},c.type=function(){return"Browser"},c.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},c.networkInterfaces=c.getNetworkInterfaces=function(){return{}},c.arch=function(){return"javascript"},c.platform=function(){return"browser"},c.tmpdir=c.tmpDir=function(){return"/tmp"},c.EOL="\n"},{}],49:[function(a,b){function c(){}var d=b.exports={};d.nextTick=function(){var a="undefined"!=typeof window&&window.setImmediate,b="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(a)return function(a){return window.setImmediate(a)};if(b){var c=[];return window.addEventListener("message",function(a){var b=a.source;if((b===window||null===b)&&"process-tick"===a.data&&(a.stopPropagation(),c.length>0)){var d=c.shift();d()}},!0),function(a){c.push(a),window.postMessage("process-tick","*")}}return function(a){setTimeout(a,0)}}(),d.title="browser",d.browser=!0,d.env={},d.argv=[],d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(){throw new Error("process.chdir is not supported")}},{}],50:[function(a,b){b.exports=function(a){return a&&"object"==typeof a&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},{}],51:[function(a,b,c){!function(b,d){function e(a,b){var d={seen:[],stylize:g};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),p(b)?d.showHidden=b:b&&c._extend(d,b),v(d.showHidden)&&(d.showHidden=!1),v(d.depth)&&(d.depth=2),v(d.colors)&&(d.colors=!1),v(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=f),i(d,a,d.depth)}function f(a,b){var c=e.styles[b];return c?"["+e.colors[c][0]+"m"+a+"["+e.colors[c][1]+"m":a}function g(a){return a}function h(a){var b={};return a.forEach(function(a){b[a]=!0}),b}function i(a,b,d){if(a.customInspect&&b&&A(b.inspect)&&b.inspect!==c.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e=b.inspect(d,a);return t(e)||(e=i(a,e,d)),e}var f=j(a,b);if(f)return f;var g=Object.keys(b),p=h(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(b)),z(b)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return k(b);if(0===g.length){if(A(b)){var q=b.name?": "+b.name:"";return a.stylize("[Function"+q+"]","special")}if(w(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(y(b))return a.stylize(Date.prototype.toString.call(b),"date");if(z(b))return k(b)}var r="",s=!1,u=["{","}"];if(o(b)&&(s=!0,u=["[","]"]),A(b)){var v=b.name?": "+b.name:"";r=" [Function"+v+"]"}if(w(b)&&(r=" "+RegExp.prototype.toString.call(b)),y(b)&&(r=" "+Date.prototype.toUTCString.call(b)),z(b)&&(r=" "+k(b)),0===g.length&&(!s||0==b.length))return u[0]+r+u[1];if(0>d)return w(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);var x;return x=s?l(a,b,d,p,g):g.map(function(c){return m(a,b,d,p,c,s)}),a.seen.pop(),n(x,r,u)}function j(a,b){if(v(b))return a.stylize("undefined","undefined");if(t(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return s(b)?a.stylize(""+b,"number"):p(b)?a.stylize(""+b,"boolean"):q(b)?a.stylize("null","null"):void 0}function k(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,d,e){for(var f=[],g=0,h=b.length;h>g;++g)f.push(F(b,String(g))?m(a,b,c,d,String(g),!0):"");return e.forEach(function(e){e.match(/^\d+$/)||f.push(m(a,b,c,d,e,!0))}),f}function m(a,b,c,d,e,f){var g,h,j;if(j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},j.get?h=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(h=a.stylize("[Setter]","special")),F(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(j.value)<0?(h=q(c)?i(a,j.value,null):i(a,j.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),v(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function n(a,b,c){var d=0,e=a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0);return e>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function o(a){return Array.isArray(a)}function p(a){return"boolean"==typeof a}function q(a){return null===a}function r(a){return null==a}function s(a){return"number"==typeof a}function t(a){return"string"==typeof a}function u(a){return"symbol"==typeof a}function v(a){return void 0===a}function w(a){return x(a)&&"[object RegExp]"===C(a)}function x(a){return"object"==typeof a&&null!==a}function y(a){return x(a)&&"[object Date]"===C(a)}function z(a){return x(a)&&("[object Error]"===C(a)||a instanceof Error)}function A(a){return"function"==typeof a}function B(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function C(a){return Object.prototype.toString.call(a)}function D(a){return 10>a?"0"+a.toString(10):a.toString(10)}function E(){var a=new Date,b=[D(a.getHours()),D(a.getMinutes()),D(a.getSeconds())].join(":");return[a.getDate(),J[a.getMonth()],b].join(" ")}function F(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var G=/%[sdj%]/g;c.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(G,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(b){return"[Circular]"}default:return a}}),h=d[c];f>c;h=d[++c])g+=q(h)||!x(h)?" "+h:" "+e(h);return g},c.deprecate=function(a,e){function f(){if(!g){if(b.throwDeprecation)throw new Error(e);b.traceDeprecation?console.trace(e):console.error(e),g=!0}return a.apply(this,arguments)}if(v(d.process))return function(){return c.deprecate(a,e).apply(this,arguments)};if(b.noDeprecation===!0)return a;var g=!1;return f};var H,I={};c.debuglog=function(a){if(v(H)&&(H=b.env.NODE_DEBUG||""),a=a.toUpperCase(),!I[a])if(new RegExp("\\b"+a+"\\b","i").test(H)){var d=b.pid;I[a]=function(){var b=c.format.apply(c,arguments);console.error("%s %d: %s",a,d,b)}}else I[a]=function(){};return I[a]},c.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=o,c.isBoolean=p,c.isNull=q,c.isNullOrUndefined=r,c.isNumber=s,c.isString=t,c.isSymbol=u,c.isUndefined=v,c.isRegExp=w,c.isObject=x,c.isDate=y,c.isError=z,c.isFunction=A,c.isPrimitive=B,c.isBuffer=a("./support/isBuffer");var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c.log=function(){console.log("%s - %s",E(),c.format.apply(c,arguments))},c.inherits=a("inherits"),c._extend=function(a,b){if(!b||!x(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}.call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":50,_process:49,inherits:47}],52:[function(a,b,c){!function(a){"object"==typeof c?b.exports=a(this):"function"==typeof define&&define.amd?define(a):this.R=a(this)}(function(){"use strict";function a(){return new TypeError("Function called with no arguments")}function b(c,d,e){switch(arguments.length){case 0:throw a();case 1:return b(c,0,c.length);case 2:return b(c,d,c.length);default:for(var f=Math.max(0,e-d),g=new Array(f),h=-1;++h<f;)g[h]=c[d+h];return g}}function c(a,b){a=a||[],b=b||[];var c,d=a.length,e=b.length,f=new Array(d+e);for(c=-1;++c<d;)f[c]=a[c];for(c=-1;++c<e;)f[d+c]=b[c];return f}function d(b){return function(c,d){switch(arguments.length){case 0:throw a();case 1:return function(a){return b(c,a)};default:return b(c,d)}}}function e(b){return function(c,e,f){switch(arguments.length){case 0:throw a();case 1:return d(function(a,d){return b(c,a,d)});case 2:return function(a){return b(c,e,a)};default:return b(c,e,f)}}}function f(a,b){return null!=b&&!T(b)&&"function"==typeof b[a]}function g(a,b){return function(c,d,e){var f=arguments.length,g=arguments[f-1],h=g&&!T(g)&&"function"==typeof g[a];switch(arguments.length){case 0:return b();case 1:return h?g[a]():b(c);case 2:return h?g[a](c):b(c,d);case 3:return h?g[a](c,d):b(c,d,e)}}}function h(a,b){for(var c=-1,d=b.length;++c<d;)a(b[c]);return b}function i(a,b,c){switch(a&&S.call(a)){case"[object Object]":return j(a,{},b,c);case"[object Array]":return j(a,[],b,c);case"[object Function]":return a;case"[object Date]":return new Date(a);default:return a}}function j(a,b,c,d){for(var e=c.length,f=-1;++f<e;)if(a===c[f])return d[f];c.push(a),d.push(b);for(var g in a)b[g]=i(a[g],c,d);return b}function k(a,b){return c([a],b)}function l(a,b){return c(b,[a])}function m(a,b){return function(){return a.call(this,b.apply(this,arguments))}}function n(a,b){return function(){var c=this,d=b.apply(this,arguments);return o(d)?d.then(function(b){return a.call(c,b)}):a.call(this,d)}}function o(a){return null!=a&&a===Object(a)&&a.then&&"function"==typeof a.then}function p(b){return function(){switch(arguments.length){case 0:throw a();case 1:return arguments[0];default:for(var c=arguments.length-1,d=arguments[c],e=d.length;c--;)d=b(arguments[c],d);return bb(e,d)}}}function q(a){return function(c){var d=b(arguments,1);return bb(Math.max(0,c.length-d.length),function(){return c.apply(this,a(d,arguments))})}}function r(a,b){for(var c=-1,d=b.length,e=new Array(d);++c<d;)e[c]=a(b[c]);return e}function s(a,b){for(var c=-1,d=b.length,e=[];++c<d;)a(b[c])&&e.push(b[c]);return e}function t(a,b){for(var c=-1,d=b.length,e=[];++c<d;)a(b[c],c,b)&&e.push(b[c]);return e}function u(a,b){for(var c=-1;++c<b.length;)if(!a(b[c]))return!1;return!0}function v(a,b){for(var c=-1;++c<b.length;)if(a(b[c]))return!0;return!1}function w(a,b,c){var d=0,e=a.length;for("number"==typeof c&&(d=0>c?Math.max(0,e+c):c);e>d;){if(a[d]===b)return d;++d}return-1}function x(a,b,c){var d=a.length;for("number"==typeof c&&(d=0>c?d+c+1:Math.min(d,c+1));--d>=0;)if(a[d]===b)return d;return-1}function y(a,b){return w(b,a)>=0}function z(a,b,c){for(var d=-1,e=c.length;++d<e;)if(a(b,c[d]))return!0;return!1}function A(a){return function b(c){for(var d,e,f,g=[],h=-1,i=c.length;++h<i;)if(U(c[h]))for(d=a?b(c[h]):c[h],e=-1,f=d.length;++e<f;)g.push(d[e]);else g.push(c[h]);return g}}function B(a){return function(b){return r(function(a){return[a,b[a]]},a(b))}}function C(a,b){for(var c,d={},e=Pb(b),f=e.length,g=-1;++g<f;)c=e[g],a(b[c],c,b)&&(d[c]=b[c]);return d}function D(a,b){var c={};return h(function(a){c[a]=b[a]},a),c}function E(a,b){for(var c=Ob(b),d=-1,e=c.length;++d<e;)a[c[d]]=b[c[d]];return a}function F(a,b,c){if(a===c)return!0;if(null==c)return!1;b.fn=b.fn||[],b.obj=b.obj||[];for(var d,e,f=-1,g=b.fn.length,h=-1,i=b.obj.length;++f<g;){if(d=b.fn[f],e=a[d],!(d in c))return!1;if(!e(c[d],c))return!1}for(;++h<i;)if(d=b.obj[h],a[d]!==c[d])return!1;return!0}function G(a){return function(c){var d=function(){var b=arguments;return a(function(a){return a.apply(null,b)},c)};return arguments.length>1?d.apply(null,b(arguments,1)):bb(Wb(Eb("length",c)),d)}}function H(a,b){return a+b}function I(a,b){return a*b}function J(a,b){return b>a}function K(a,b){return a>b}function L(b,c){return function(d){if(0===arguments.length)throw a();for(var e,f=-1,g=c;++f<d.length;)e=+d[f],b(e,g)&&(g=e);return g}}function M(a){return function(b,c){if(c&&c.length>0){for(var d,e=0,f=c[e],g=b(f);++e<c.length;)d=b(c[e]),a(d,g)&&(g=d,f=c[e]);return f}}}function N(a,b){var c,d=-1,e=a.length;if(null!=b){for(c=b;null!=c&&++d<e;)c=c[a[d]];return c}}function O(a,b){return r(function(b){return{key:a(b),val:b}},b)}function P(a){return function(b){return s(function(a){return"function"==typeof b[a]},a(b))}}var Q,R={version:"0.8.0"},S=Object.prototype.toString,T=Array.isArray||function(a){return null!=a&&a.length>=0&&"[object Array]"===S.call(a)},U=R.isArrayLike=function(a){return T(a)?!0:a?"object"!=typeof a?!1:a instanceof String?!1:1===a.nodeType?!!a.length:0===a.length?!0:a.length>0?a.hasOwnProperty(0)&&a.hasOwnProperty(a.length-1):!1:!1};try{Object.defineProperty(R,"__",{writable:!1,value:Q})}catch(V){R.__=Q}var W=R.op=function(b){var c=b.length;if(2!==c)throw new Error("Expected binary function.");return function d(c,e){switch(arguments.length){case 0:throw a();case 1:return c===Q?ab(Z(d)):_(pb(b,c));default:return c===Q?_(qb(b,e)):b(c,e)}}},X=R.curryN=function(b,d){return function e(f){return bb(Math.max(b-(f&&f.length||0),0),function(){if(0===arguments.length)throw a();var g=c(f,arguments);return g.length>=b?d.apply(this,g):e(g)})}([])},Y=R.curry=function(a){return X(a.length,a)},Z=R.flip=function(d){return function(e,f){switch(arguments.length){case 0:throw a();case 1:return function(a){return d.apply(this,[a,e].concat(b(arguments,1)))};default:return d.apply(this,c([f,e],b(arguments,2)))}}},$=R.nAry=function(a,b){switch(a){case 0:return function(){return b.call(this)};case 1:return function(a){return b.call(this,a)};case 2:return function(a,c){return b.call(this,a,c)};case 3:return function(a,c,d){return b.call(this,a,c,d)};case 4:return function(a,c,d,e){return b.call(this,a,c,d,e)};case 5:return function(a,c,d,e,f){return b.call(this,a,c,d,e,f)};case 6:return function(a,c,d,e,f,g){return b.call(this,a,c,d,e,f,g)};case 7:return function(a,c,d,e,f,g,h){return b.call(this,a,c,d,e,f,g,h)};case 8:return function(a,c,d,e,f,g,h,i){return b.call(this,a,c,d,e,f,g,h,i)};case 9:return function(a,c,d,e,f,g,h,i,j){return b.call(this,a,c,d,e,f,g,h,i,j)};case 10:return function(a,c,d,e,f,g,h,i,j,k){return b.call(this,a,c,d,e,f,g,h,i,j,k)};default:return b}},_=R.unary=function(a){return $(1,a)},ab=R.binary=function(a){return $(2,a)},bb=R.arity=function(a,b){switch(a){case 0:return function(){return b.apply(this,arguments)};case 1:return function(){return b.apply(this,arguments)};case 2:return function(){return b.apply(this,arguments)};case 3:return function(){return b.apply(this,arguments)};case 4:return function(){return b.apply(this,arguments)};case 5:return function(){return b.apply(this,arguments)};case 6:return function(){return b.apply(this,arguments)};case 7:return function(){return b.apply(this,arguments)};case 8:return function(){return b.apply(this,arguments)};case 9:return function(){return b.apply(this,arguments)};case 10:return function(){return b.apply(this,arguments)};default:return b}},cb=R.invokerN=function(a,c){var d=b(arguments,2),e=a-d.length;return X(e+1,function(){var a=arguments[e],f=d.concat(b(arguments,0,e));return a[c].apply(a,f)})},db=R.useWith=function(a){var c=b(arguments,1),d=c.length;return Y(bb(d,function(){for(var e=[],f=-1;++f<d;)e.push(c[f](arguments[f]));return a.apply(this,e.concat(b(arguments,d)))}))};R.forEach=d(h),R.forEach.idx=d(function(a,b){for(var c=-1,d=b.length;++c<d;)a(b[c],c,b);return b});var eb=R.clone=function(a){return b(a)};R.cloneDeep=function(a){return i(a,[],[])};var fb=R.isEmpty=function(a){return null==a||0===a.length},gb=R.prepend=d(k);R.cons=gb,R.prependTo=Z(k);var hb=R.nth=d(function(a,b){return 0>a?b[b.length+a]:b[a]}),ib=R.head=hb(0);R.car=ib,R.last=hb(-1);var jb=R.tail=g("tail",function(a){return b(a,1)});R.cdr=jb;var kb=R.append=d(l);R.push=kb,R.appendTo=Z(l),R.concat=d(function(a,b){if(T(b))return c(a,b);if(f("concat",a))return a.concat(b);throw new TypeError("can't concat "+typeof a)});var lb=R.identity=function(a){return a};R.I=lb,R.argN=function(a){return function(){return arguments[a]}};var mb=R.times=d(function(a,b){for(var c=new Array(b),d=-1;++d<b;)c[d]=a(d);return c});R.repeatN=d(function(a,b){return mb(Nb(a),b)}),R.apply=d(function(a,b){return a.apply(this,b)}),R.unapply=function(c){if(0===arguments.length)throw a();return function(){return c(b(arguments))}};var nb=R.compose=p(m),ob=R.pCompose=p(n);R.pipe=function(){return nb.apply(this,Ib(arguments))},R.pPipe=function(){return ob.apply(this,Ib(arguments))};var pb=R.lPartial=q(c),qb=R.rPartial=q(Z(c));R.memoize=function(a){if(!a.length)return rb(a);var c={};return function(){if(arguments.length){var d=tb(function(a,b){return a[b]||(a[b]={})},c,b(arguments,0,arguments.length-1)),e=arguments[arguments.length-1];return d[e]||(d[e]=a.apply(this,arguments))}}};var rb=R.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments))}};R.wrap=function(a,b){return bb(a.length,function(){return b.apply(this,c([a],arguments))})};var sb=R.constructN=d(function(a,b){var c=function(){var a,c,d=function(){};return d.prototype=b.prototype,a=new d,c=b.apply(a,arguments),Object(c)===c?c:a};return a>1?Y($(a,c)):c});R.construct=function(a){return sb(a.length,a)},R.converge=function(a){var c=b(arguments,1);return function(){var b=arguments;return a.apply(this,r(function(a){return a.apply(this,b)},c))}};var tb=R.reduce=e(function(a,b,c){for(var d=-1,e=c.length;++d<e;)b=a(b,c[d]);return b});R.foldl=tb,R.reduce.idx=e(function(a,b,c){for(var d=-1,e=c.length;++d<e;)b=a(b,c[d],d,c);return b}),R.foldl.idx=tb.idx;var ub=R.reduceRight=e(g("reduceRight",function(a,b,c){for(var d=c.length;d--;)b=a(b,c[d]);return b}));R.foldr=ub,R.reduceRight.idx=e(function(a,b,c){for(var d=c.length;d--;)b=a(b,c[d],d,c);return b}),R.foldr.idx=ub.idx,R.unfoldr=d(function(a,b){for(var c=a(b),d=[];c&&c.length;)d.push(c[0]),c=a(c[1]);return d});var vb=R.map=d(g("map",r));R.map.idx=d(function(a,b){for(var c=-1,d=b.length,e=new Array(d);++c<d;)e[c]=a(b[c],c,b);return e}),R.mapObj=d(function(a,b){return tb(function(c,d){return c[d]=a(b[d]),c},{},Ob(b))}),R.mapObj.idx=d(function(a,b){return tb(function(c,d){return c[d]=a(b[d],d,b),c},{},Ob(b))}),R.scanl=e(function(a,b,c){var d=0,e=c.length+1,f=new Array(e);for(f[d]=b;++d<e;)b=a(b,c[d-1]),f[d]=b;return f});var wb=R.liftN=d(function(c,d){var e=X(c,d);if(0===arguments.length)throw a();return X(c,function(){return tb(xb,r(e,arguments[0]),b(arguments,1))})});R.lift=function(b){if(0===arguments.length)throw a();return wb(b.length,b)};var xb=R.ap=d(function(a,b){return f("ap",a)?a.ap(b):tb(function(a,d){return c(a,r(d,b))},[],a)});R.of=function(a,b){return f("of",b)?b.of(a):[a]},R.empty=function(a){return f("empty",a)?a.empty():[]},R.chain=d(g("chain",function(a,b){return Fb(r(a,b))}));var yb=R.commuteMap=e(function(a,b,c){function d(b,c){return xb(vb(kb,a(c)),b)}return tb(d,b([]),c)});R.commute=yb(vb(lb));var zb=R.size=function(a){return a.length};R.length=zb,R.filter=d(g("filter",s)),R.filter.idx=d(t);var Ab=function(a,b){return s(Tb(a),b)};R.reject=d(Ab),R.reject.idx=d(function(a,b){return t(Tb(a),b)}),R.takeWhile=d(g("takeWhile",function(a,c){for(var d=-1,e=c.length;++d<e&&a(c[d]););return b(c,0,d)})),R.take=d(g("take",function(a,c){return b(c,0,Math.min(a,c.length))})),R.skipUntil=d(function(a,c){for(var d=-1,e=c.length;++d<e&&!a(c[d]););return b(c,d)}),R.skip=d(g("skip",function(a,c){return a<c.length?b(c,a):[]})),R.find=d(function(a,b){for(var c=-1,d=b.length;++c<d;)if(a(b[c]))return b[c]}),R.findIndex=d(function(a,b){for(var c=-1,d=b.length;++c<d;)if(a(b[c]))return c;
return-1}),R.findLast=d(function(a,b){for(var c=b.length;c--;)if(a(b[c]))return b[c]}),R.findLastIndex=d(function(a,b){for(var c=b.length;c--;)if(a(b[c]))return c;return-1}),R.every=d(u),R.some=d(v),R.indexOf=d(function(a,b){return w(b,a)}),R.indexOf.from=e(function(a,b,c){return w(c,a,b)}),R.lastIndexOf=d(function(a,b){return x(b,a)}),R.lastIndexOf.from=e(function(a,b,c){return x(c,a,b)}),R.contains=d(y);var Bb=R.containsWith=e(z),Cb=R.uniq=function(a){for(var b,c=-1,d=a.length,e=[];++c<d;)b=a[c],y(b,e)||e.push(b);return e};R.isSet=function(a){for(var b=a.length,c=-1;++c<b;)if(w(a,a[c],c+1)>=0)return!1;return!0};var Db=R.uniqWith=d(function(a,b){for(var c,d=-1,e=b.length,f=[];++d<e;)c=b[d],z(a,c,f)||f.push(c);return f}),Eb=R.pluck=d(function(a,b){return r(Lb(a),b)});R.flatten=A(!0);var Fb=R.unnest=A(!1);R.zipWith=e(function(a,b,c){for(var d=[],e=-1,f=Math.min(b.length,c.length);++e<f;)d[e]=a(b[e],c[e]);return d}),R.zip=d(function(a,b){for(var c=[],d=-1,e=Math.min(a.length,b.length);++d<e;)c[d]=[a[d],b[d]];return c}),R.zipObj=d(function(a,b){for(var c=-1,d=a.length,e={};++c<d;)e[a[c]]=b[c];return e});var Gb=R.fromPairs=function(a){for(var b=-1,c=a.length,d={};++b<c;)T(a[b])&&a[b].length&&(d[a[b][0]]=a[b][1]);return d},Hb=R.createMapEntry=d(function(a,b){var c={};return c[a]=b,c});R.lens=d(function(a,b){var c=function(b){return a(b)};return c.set=b,c.map=function(c,d){return b(c(a(d)),d)},c}),R.xprod=d(function(a,b){if(fb(a)||fb(b))return[];for(var c,d=-1,e=a.length,f=b.length,g=[];++d<e;)for(c=-1;++c<f;)g.push([a[d],b[c]]);return g});var Ib=R.reverse=function(a){for(var b=-1,c=a.length,d=c,e=new Array(c);++b<c;)e[--d]=a[b];return e};R.range=d(function(a,b){if(a>=b)return[];for(var c=0,d=new Array(Math.floor(b)-Math.ceil(a));b>a;)d[c++]=a++;return d}),R.join=cb(1,"join"),R.slice=cb(2,"slice"),R.slice.from=d(function(a,b){return b.slice(a,b.length)}),R.remove=e(function(a,d,e){return c(b(e,0,Math.min(a,e.length)),b(e,Math.min(e.length,a+d)))}),R.insert=e(function(a,d,e){return a=a<e.length&&a>=0?a:e.length,c(l(d,b(e,0,a)),b(e,a))}),R.insert.all=e(function(a,d,e){return a=a<e.length&&a>=0?a:e.length,c(c(b(e,0,a),d),b(e,a))});var Jb=R.comparator=function(a){return function(b,c){return a(b,c)?-1:a(c,b)?1:0}};R.sort=d(function(a,b){return eb(b).sort(a)});var Kb=R.groupBy=d(function(a,b){return tb(function(b,c){var d=a(c);return b[d]=l(c,b[d]||(b[d]=[])),b},{},b)});R.partition=d(function(a,b){return tb(function(b,c){return b[a(c)?0:1].push(c),b},[[],[]],b)}),R.tap=d(function(a,b){return a(b),b}),R.eq=d(function(a,b){return a===b});var Lb=R.prop=function(b,c){switch(arguments.length){case 0:throw a();case 1:return function(a){return a[b]}}return c[b]};R.get=Lb,R.propOf=Z(Lb),R.props=d(function(a,b){for(var c=a.length,d=new Array(c),e=-1;++e<c;)d[e]=b[a[e]];return d});var Mb=Object.prototype.hasOwnProperty;R.propOr=e(function(a,b,c){return Mb.call(c,a)?c[a]:b}),R.has=d(function(a,b){return Mb.call(b,a)}),R.hasIn=d(function(a,b){return a in b}),R.func=function(c,d){switch(arguments.length){case 0:throw a();case 1:return function(a){return a[c].apply(a,b(arguments,1))};default:return d[c].apply(d,b(arguments,2))}};var Nb=R.always=function(a){return function(){return a}};R.bind=d(function(a,b){return function(){return a.apply(b,arguments)}});var Ob=R.keys=function(){var a=!{toString:null}.propertyIsEnumerable("toString"),b=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];return function(c){if(Object(c)!==c)return[];if(Object.keys)return Object.keys(c);var d,e,f=[];for(d in c)Mb.call(c,d)&&f.push(d);if(a)for(e=b.length;e--;)d=b[e],Mb.call(c,d)&&!y(d,f)&&f.push(d);return f}}(),Pb=R.keysIn=function(a){var b,c=[];for(b in a)c.push(b);return c};R.toPairs=B(Ob),R.toPairsIn=B(Pb),R.values=function(a){for(var b=Ob(a),c=b.length,d=new Array(c),e=-1;++e<c;)d[e]=a[b[e]];return d},R.valuesIn=function(a){var b,c=[];for(b in a)c.push(a[b]);return c},R.pick=d(function(a,b){return C(function(b,c){return y(c,a)},b)}),R.omit=d(function(a,b){return C(function(b,c){return!y(c,a)},b)}),R.pickBy=d(C);var Qb=R.pickAll=d(D);R.mixin=d(function(a,b){return E(E({},a),b)}),R.cloneObj=function(a){return E({},a)},R.eqProps=e(function(a,b,c){return b[a]===c[a]}),R.where=function(b,c){var d=Kb(function(a){return"function"==typeof b[a]?"fn":"obj"},Ob(b));switch(arguments.length){case 0:throw a();case 1:return function(a){return F(b,d,a)}}return F(b,d,c)};var Rb=R.assoc=e(function(a,b,c){return E(Gb(r(function(a){return[a,c[a]]},Pb(c))),Hb(a,b))});R.assocPath=function(){var c=function(a,d,e){if(1===a.length)return Rb(a[0],d,e);var f=e[a[0]];return Rb(a[0],c(b(a,1),d,Sb(Object,f)?f:{}),e)};return function(b,e,f){var g=arguments.length;if(0===g)throw a();var h=Yb(".",b),i=d(function(a,b){return c(h,a,b)});switch(g){case 1:return i;case 2:return i(e);default:return i(e,f)}}}(),R.installTo=function(a){return E(a,R)};var Sb=R.is=d(function(a,b){return null!=b&&b.constructor===a||b instanceof a});R.type=function(a){return null===a?"Null":void 0===a?"Undefined":S.call(a).slice(8,-1)},R.alwaysZero=Nb(0),R.alwaysFalse=Nb(!1),R.alwaysTrue=Nb(!0),R.and=d(function(a,b){return function(){return a.apply(this,arguments)&&b.apply(this,arguments)}}),R.or=d(function(a,b){return function(){return a.apply(this,arguments)||b.apply(this,arguments)}});var Tb=R.not=function(a){return function(){return!a.apply(this,arguments)}};R.allPredicates=G(u),R.anyPredicates=G(v);var Ub=R.ifElse=e(function(a,b,c){return function(){return a.apply(this,arguments)?b.apply(this,arguments):c.apply(this,arguments)}});R["if"]=Ub,R.cond=function(){var a=arguments;return function(){for(var b=-1;++b<a.length;)if(a[b][0].apply(this,arguments))return a[b][1].apply(this,arguments)}},R.add=d(H),R.multiply=d(I),R.subtract=W(function(a,b){return a-b}),R.divide=W(function(a,b){return a/b}),R.modulo=W(function(a,b){return a%b});var Vb=Number.isInteger||function(a){return a<<0===a};R.mathMod=W(function(a,b){return Vb(a)?!Vb(b)||1>b?0/0:(a%b+b)%b:0/0}),R.sum=tb(H,0),R.product=tb(I,1),R.lt=W(J),R.lte=W(function(a,b){return b>=a}),R.gt=W(K),R.gte=W(function(a,b){return a>=b});var Wb=R.max=L(K,-1/0);R.maxBy=d(M(K)),R.min=L(J,1/0),R.minBy=d(M(J));var Xb=R.substring=cb(2,"substring");R.substringFrom=Z(Xb)(void 0),R.substringTo=Xb(0),R.charAt=cb(1,"charAt"),R.charCodeAt=cb(1,"charCodeAt"),R.match=cb(1,"match"),R.replace=e(function(a,b,c){return c.replace(a,b)}),R.strIndexOf=d(function(a,b){return b.indexOf(a)}),R.strLastIndexOf=d(function(a,b){return b.lastIndexOf(a)}),R.toUpperCase=cb(0,"toUpperCase"),R.toLowerCase=cb(0,"toLowerCase"),R.trim=function(){var a="    \n\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029",b="\u200b",c="function"==typeof String.prototype.trim;return c&&!a.trim()&&b.trim()?function(a){return a.trim()}:function(b){var c=new RegExp("^["+a+"]["+a+"]*"),d=new RegExp("["+a+"]["+a+"]*$");return b.replace(c,"").replace(d,"")}}();var Yb=R.split=cb(1,"split"),Zb=R.pathOn=e(function(a,b,c){return N(b.split(a),c)});R.path=Zb("."),R.pathEq=e(function(a,b,c){return N(a.split("."),c)===b}),R.project=db(r,Qb,lb),R.propEq=e(function(a,b,c){return c[a]===b}),R.union=nb(Cb,c),R.unionWith=e(function(a,b,d){return Db(a,c(b,d))}),R.difference=d(function(a,b){for(var c=[],d=-1,e=a.length;++d<e;)y(a[d],b)||y(a[d],c)||c.push(a[d]);return c}),R.differenceWith=e(function(a,b,c){for(var d=[],e=-1,f=b.length,g=Bb(a);++e<f;)g(b[e],c)||g(b[e],d)||d.push(b[e]);return d}),R.intersection=d(function(a,b){return Cb(s(Z(y)(a),b))}),R.intersectionWith=e(function(a,b,c){for(var d=[],e=-1;++e<b.length;)z(a,b[e],c)&&(d[d.length]=b[e]);return Db(a,d)});var $b=Jb(function(a,b){return a.key<b.key});return R.sortBy=d(function(a,b){return Eb("val",O(a,b).sort($b))}),R.countBy=d(function(a,b){return tb(function(a,b){return a[b.key]=(a[b.key]||0)+1,a},{},O(a,b))}),R.functions=P(Ob),R.functionsIn=P(Pb),R})},{}],53:[function(a,b){!function(a,b){"use strict";var c;a(function(a){function d(a,b){var c,d,e,f;if(c=a,e={},b){for(d in b)f=new RegExp("\\{"+d+"\\}"),f.test(c)?c=c.replace(f,encodeURIComponent(b[d]),"g"):e[d]=b[d];for(d in e)c+=-1===c.indexOf("?")?"?":"&",c+=encodeURIComponent(d),null!==e[d]&&void 0!==e[d]&&(c+="=",c+=encodeURIComponent(e[d]))}return c}function e(a,b){return 0===a.indexOf(b)}function f(a,b){return this instanceof f?void(a instanceof f?(this._template=a.template,this._params=g({},this._params,b)):(this._template=(a||"").toString(),this._params=b||{})):new f(a,b)}var g,h,i,j,k;return g=a("./util/mixin"),i=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?(\/[^?#]*)?(\?[^#]*)?(#\S*)?/i,j=/^([a-z][a-z0-9\-\+\.]*:\/\/|\/)/i,k=/([a-z][a-z0-9\+\-\.]*:)\/\/([^@]+@)?(([^:\/]+)(:([0-9]+))?)?\//i,f.prototype={append:function(a,b){return new f(this._template+a,g({},this._params,b))},fullyQualify:function(){if(!b)return this;if(this.isFullyQualified())return this;var a=this._template;return e(a,"//")?a=h.protocol+a:e(a,"/")?a=h.origin+a:this.isAbsolute()||(a=h.origin+h.pathname.substring(0,h.pathname.lastIndexOf("/")+1)),-1===a.indexOf("/",8)&&(a+="/"),new f(a,this._params)},isAbsolute:function(){return j.test(this.build())},isFullyQualified:function(){return k.test(this.build())},isCrossOrigin:function(){if(!h)return!0;var a=this.parts();return a.protocol!==h.protocol||a.hostname!==h.hostname||a.port!==h.port},parts:function(){var a,b;return a=this.fullyQualify().build().match(i),b={href:a[0],protocol:a[1],host:a[3]||"",hostname:a[4]||"",port:a[6],pathname:a[7]||"",search:a[8]||"",hash:a[9]||""},b.origin=b.protocol+"//"+b.host,b.port=b.port||("https:"===b.protocol?"443":"http:"===b.protocol?"80":""),b},build:function(a){return d(this._template,g({},this._params,a))},toString:function(){return this.build()}},h=b?new f(b.href).parts():c,f})}("function"==typeof define&&define.amd?define:function(c){b.exports=c(a)},"undefined"!=typeof window?window.location:void 0)},{"./util/mixin":63}],54:[function(a,b){!function(a){"use strict";a(function(){return function(a,b){return b&&(a.skip=function(){return b}),a.wrap=function(b,c){return b(a,c)},a.chain=function(){return console&&(console.warn||console.log).call(console,"rest.js: client.chain() is deprecated, use client.wrap() instead"),a.wrap.apply(this,arguments)},a}})}("function"==typeof define&&define.amd?define:function(c){b.exports=c(a)})},{}],55:[function(a,b){!function(a,b){"use strict";a(function(a){function c(a){var b={};return a?(a.trim().split(i).forEach(function(a){var c,d,e;c=a.indexOf(":"),d=f(a.substring(0,c).trim()),e=a.substring(c+1).trim(),b[d]?Array.isArray(b[d])?b[d].push(e):b[d]=[b[d],e]:b[d]=e}),b):b}var d,e,f,g,h,i;return d=a("when"),e=a("../UrlBuilder"),f=a("../util/normalizeHeaderName"),g=a("../util/responsePromise"),h=a("../client"),i=/[\r|\n]+/,h(function(a){return new g.ResponsePromise(function(d,f){var g,h,i,j,k,l,m,n;if(a="string"==typeof a?{path:a}:a||{},m={request:a},a.canceled)return m.error="precanceled",void f(m);if(n=a.engine||b.XMLHttpRequest,!n)return void f({request:a,error:"xhr-not-available"});k=a.entity,a.method=a.method||(k?"POST":"GET"),h=a.method,i=new e(a.path||"",a.params).build();try{g=m.raw=new n,g.open(h,i,!0),a.mixin&&Object.keys(a.mixin).forEach(function(b){a.mixin.hasOwnProperty(b)&&b in g&&(g[b]=a.mixin[b])}),j=a.headers;for(l in j)g.setRequestHeader(l,j[l]);a.canceled=!1,a.cancel=function(){a.canceled=!0,g.abort(),f(m)},g.onreadystatechange=function(){a.canceled||g.readyState===(n.DONE||4)&&(m.status={code:g.status,text:g.statusText},m.headers=c(g.getAllResponseHeaders()),m.entity=g.responseText,m.status.code>0&&d(m))};try{g.onerror=function(){m.error="loaderror",f(m)}}catch(o){}g.send(k)}catch(o){m.error="loaderror",f(m)}})})})}("function"==typeof define&&define.amd?define:function(c){b.exports=c(a)},"undefined"!=typeof window?window:void 0)},{"../UrlBuilder":53,"../client":54,"../util/normalizeHeaderName":64,"../util/responsePromise":65,when:83}],56:[function(a,b){!function(a){"use strict";a(function(a){function b(a){return a}function c(a){return a}function d(a){return a}function e(a){return l.promise(function(b,c){a.forEach(function(a){l(a,b,c)})})}function f(a){return this instanceof f?void i(this,a):new f(a)}function g(a){var g,i,m,n;return a=a||{},g=a.init||b,i=a.request||c,m=a.success||a.response||d,n=a.error||function(){return l((a.response||d).apply(this,arguments),l.reject,l.reject)},function(b,c){function d(a){var g,h;return g={},h={arguments:Array.prototype.slice.call(arguments),client:d},a="string"==typeof a?{path:a}:a||{},a.originator=a.originator||d,j(l(i.call(g,a,c,h),function(a){var d,i,j;return j=b,a instanceof f&&(i=a.abort,j=a.client||j,d=a.response,a=a.request),d=d||l(a,function(a){return l(j(a),function(a){return m.call(g,a,c,h)},function(a){return n.call(g,a,c,h)})}),i?e([d,i]):d},function(b){return l.reject({request:a,error:b})}))}return"object"==typeof b&&(c=b),"function"!=typeof b&&(b=a.client||h),c=g(Object.create(c||{})),k(d,b)}}var h,i,j,k,l;return h=a("./rest"),i=a("./util/mixin"),j=a("./util/responsePromise"),k=a("./client"),l=a("when"),g.ComplexRequest=f,g})}("function"==typeof define&&define.amd?define:function(c){b.exports=c(a)})},{"./client":54,"./rest":62,"./util/mixin":63,"./util/responsePromise":65,when:83}],57:[function(a,b){!function(a){"use strict";a(function(a){var b,c;return b=a("../interceptor"),c=a("when"),b({init:function(a){return a.code=a.code||400,a},response:function(a,b){return a.status&&a.status.code>=b.code?c.reject(a):a}})})}("function"==typeof define&&define.amd?define:function(c){b.exports=c(a)})},{"../interceptor":56,when:83}],58:[function(a,b){!function(a){"use strict";a(function(a){var b,c,d,e;return b=a("../interceptor"),c=a("../mime/registry"),e=a("when"),d=c.lookup("text/plain"),b({init:function(a){return a.registry=a.registry||c,a},request:function(a,b){var c,d;return d=a.headers||(a.headers={}),c=d["Content-Type"]=d["Content-Type"]||b.mime||"text/plain",d.Accept=d.Accept||b.accept||c+", application/json;q=0.8, text/plain;q=0.5, */*;q=0.2","entity"in a?b.registry.lookup(c).then(function(c){var d=b.client||a.originator;return e.attempt(c.write,a.entity,{client:d,request:a}).otherwise(function(){throw"mime-serialization"}).then(function(b){return a.entity=b,a})},function(){throw"mime-unknown"}):a},response:function(a,b){if(!(a.headers&&a.headers["Content-Type"]&&a.entity))return a;var c=a.headers["Content-Type"];return b.registry.lookup(c).otherwise(function(){return d}).then(function(c){var d=b.client||a.request&&a.request.originator;return e.attempt(c.read,a.entity,{client:d,response:a}).otherwise(function(b){throw a.error="mime-deserialization",a.cause=b,a}).then(function(b){return a.entity=b,a})})}})})}("function"==typeof define&&define.amd?define:function(c){b.exports=c(a)})},{"../interceptor":56,"../mime/registry":59,when:83}],59:[function(a,b){!function(a){"use strict";a(function(b){function c(a){return a.split(/[;\+]/)[0].trim()}function d(a){var b={};"function"==typeof a&&(a=function(a){return{lookup:function(c){return b[c]=a(c),b[c]}}}(a)),this.lookup=function(d){return d=c(d),d in b?b[d]:a.lookup(d)},this.register=function(a,d){return a=c(a),b[a]=g.resolve(d),b[a]}}function e(a){var c;return g.promise(function(d,e){c=setTimeout(e,1e3),b(["./type/"+a],d,e)}).otherwise(function(b){return g.reject(b||new Error("Timeout while loading mime module: "+a))}).ensure(function(){clearTimeout(c)})}function f(a){return g.promise(function(c,d){try{c(b("./type/"+a))}catch(e){d(e)}})}var g,h;return g=b("when"),d.prototype={child:function(){return new d(this)}},h=new d("function"==typeof a&&a.amd?e:f),h.register("text/plain",b("./type/text/plain")),h.register("application/json",b("./type/application/json")),h})}("function"==typeof define&&define.amd?define:function(c){b.exports=c(a)})},{"./type/application/json":60,"./type/text/plain":61,when:83}],60:[function(a,b){!function(a){"use strict";a(function(){return{read:function(a){return JSON.parse(a)},write:function(a){return JSON.stringify(a)}}})}("function"==typeof define&&define.amd?define:function(c){b.exports=c(a)})},{}],61:[function(a,b){!function(a){"use strict";a(function(){return{read:function(a){return a},write:function(a){return a.toString()}}})}("function"==typeof define&&define.amd?define:function(c){b.exports=c(a)})},{}],62:[function(a,b){!function(c){!function(a,b){"use strict";var c;a(function(a){function d(){return f.apply(c,arguments)}var e,f,g;return e=a("./client"),f=g=function(){if(b&&b.versions&&b.versions.node){var c="./client/node";return a(c)}return a("./client/xhr")}(),d.setDefaultClient=function(a){f=a},d.getDefaultClient=function(){return f},d.resetDefaultClient=function(){f=g},e(d)})}("function"==typeof define&&define.amd?define:function(c){b.exports=c(a)},"undefined"==typeof c?void 0:c)}.call(this,a("_process"))},{"./client":54,"./client/xhr":55,_process:49}],63:[function(a,b){!function(a){"use strict";a(function(){function a(a){var c,d,e,f;for(a||(a={}),c=1,d=arguments.length;d>c;c+=1){e=arguments[c];for(f in e)f in a&&(a[f]===e[f]||f in b&&b[f]===e[f])||(a[f]=e[f])}return a}var b={};return a})}("function"==typeof define&&define.amd?define:function(c){b.exports=c(a)})},{}],64:[function(a,b){!function(a){"use strict";a(function(){function a(a){return a.toLowerCase().split("-").map(function(a){return a.charAt(0).toUpperCase()+a.slice(1)}).join("-")}return a})}("function"==typeof define&&define.amd?define:function(c){b.exports=c(a)})},{}],65:[function(a,b){!function(a){"use strict";a(function(a){function b(){return e.apply(this,arguments)}function c(a,b){return a.then(function(a){return a&&a[b]},function(a){return f.reject(a&&a[b])})}function d(a){return new b(a.then.bind(a))}var e=a("when/lib/Promise"),f=a("when"),g=a("./normalizeHeaderName");return b.prototype=Object.create(e.prototype),b.prototype.entity=function(){return c(this,"entity")},b.prototype.status=function(){return c(c(this,"status"),"code")},b.prototype.headers=function(){return c(this,"headers")},b.prototype.header=function(a){return a=g(a),c(this.headers(),a)},d.ResponsePromise=b,d})}("function"==typeof define&&define.amd?define:function(c){b.exports=c(a)})},{"./normalizeHeaderName":64,when:83,"when/lib/Promise":67}],66:[function(a,b,c){!function(a,d){"use strict";var e="0.7.3",f="",g="?",h="function",i="undefined",j="object",k="major",l="model",m="name",n="type",o="vendor",p="version",q="architecture",r="console",s="mobile",t="tablet",u="smarttv",v="wearable",w="embedded",x={extend:function(a,b){for(var c in b)-1!=="browser cpu device engine os".indexOf(c)&&0===b[c].length%2&&(a[c]=b[c].concat(a[c]));return a},has:function(a,b){return"string"==typeof a?-1!==b.toLowerCase().indexOf(a.toLowerCase()):void 0},lowerize:function(a){return a.toLowerCase()}},y={rgx:function(){for(var a,b,c,e,f,g,k,l=0,m=arguments;l<m.length&&!g;){var n=m[l],o=m[l+1];if(typeof a===i){a={};for(e in o)f=o[e],typeof f===j?a[f[0]]=d:a[f]=d}for(b=c=0;b<n.length&&!g;)if(g=n[b++].exec(this.getUA()))for(e=0;e<o.length;e++)k=g[++c],f=o[e],typeof f===j&&f.length>0?2==f.length?a[f[0]]=typeof f[1]==h?f[1].call(this,k):f[1]:3==f.length?a[f[0]]=typeof f[1]!==h||f[1].exec&&f[1].test?k?k.replace(f[1],f[2]):d:k?f[1].call(this,k,f[2]):d:4==f.length&&(a[f[0]]=k?f[3].call(this,k.replace(f[1],f[2])):d):a[f]=k?k:d;l+=2}return a},str:function(a,b){for(var c in b)if(typeof b[c]===j&&b[c].length>0){for(var e=0;e<b[c].length;e++)if(x.has(b[c][e],a))return c===g?d:c}else if(x.has(b[c],a))return c===g?d:c;return a}},z={browser:{oldsafari:{major:{1:["/8","/1","/3"],2:"/4","?":"/"},version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:"NT 6.4",RT:"ARM"}}}},A={browser:[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],[m,p,k],[/\s(opr)\/((\d+)?[\w\.]+)/i],[[m,"Opera"],p,k],[/(kindle)\/((\d+)?[\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?((\d+)?[\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?((\d+)?[\w\.]*)/i,/(?:ms|\()(ie)\s((\d+)?[\w\.]+)/i,/(rekonq)((?:\/)[\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\/((\d+)?[\w\.-]+)/i],[m,p,k],[/(trident).+rv[:\s]((\d+)?[\w\.]+).+like\sgecko/i],[[m,"IE"],p,k],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[[m,"Yandex"],p,k],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],[[m,/_/g," "],p,k],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?((\d+)?[\w\.]+)/i],[m,p,k],[/(dolfin)\/((\d+)?[\w\.]+)/i],[[m,"Dolphin"],p,k],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[[m,"Chrome"],p,k],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],[p,k,[m,"Mobile Safari"]],[/version\/((\d+)?[\w\.]+).+?(mobile\s?safari|safari)/i],[p,k,m],[/webkit.+?(mobile\s?safari|safari)((\/[\w\.]+))/i],[m,[k,y.str,z.browser.oldsafari.major],[p,y.str,z.browser.oldsafari.version]],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(webkit|khtml)\/((\d+)?[\w\.]+)/i],[m,p,k],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[[m,"Netscape"],p,k],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?((\d+)?[\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?((\d+)?[\w\.]+)/i,/(links)\s\(((\d+)?[\w\.]+)/i,/(gobrowser)\/?((\d+)?[\w\.]+)*/i,/(ice\s?browser)\/v?((\d+)?[\w\._]+)/i,/(mosaic)[\/\s]((\d+)?[\w\.]+)/i],[m,p,k]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[q,"amd64"]],[/(ia32(?=;))/i],[[q,x.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[q,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[q,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[q,/ower/,"",x.lowerize]],[/(sun4\w)[;\)]/i],[[q,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[q,x.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[l,o,[n,t]],[/applecoremedia\/[\w\.]+ \((ipad)/],[l,[o,"Apple"],[n,t]],[/(apple\s{0,1}tv)/i],[[l,"Apple TV"],[o,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[o,l,[n,t]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[l,[o,"Amazon"],[n,t]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[l,y.str,z.device.amazon.model],[o,"Amazon"],[n,s]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[l,o,[n,s]],[/\((ip[honed|\s\w*]+);/i],[l,[o,"Apple"],[n,s]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[o,l,[n,s]],[/\(bb10;\s(\w+)/i],[l,[o,"BlackBerry"],[n,s]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[l,[o,"Asus"],[n,t]],[/(sony)\s(tablet\s[ps])/i],[o,l,[n,t]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[o,l,[n,r]],[/android.+;\s(shield)\sbuild/i],[l,[o,"Nvidia"],[n,r]],[/(playstation\s[3portablevi]+)/i],[l,[o,"Sony"],[n,r]],[/(sprint\s(\w+))/i],[[o,y.str,z.device.sprint.vendor],[l,y.str,z.device.sprint.model],[n,s]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[o,l,[n,t]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[o,[l,/_/g," "],[n,s]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[l,[o,"Microsoft"],[n,r]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[o,"Microsoft"],[n,s]],[/\s((milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?))[\w\s]+build\//i,/(mot)[\s-]?(\w+)*/i],[[o,"Motorola"],l,[n,s]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[l,[o,"Motorola"],[n,t]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[o,"Samsung"],l,[n,t]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[o,"Samsung"],l,[n,s]],[/(samsung);smarttv/i],[o,l,[n,u]],[/\(dtv[\);].+(aquos)/i],[l,[o,"Sharp"],[n,u]],[/sie-(\w+)*/i],[l,[o,"Siemens"],[n,s]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[o,"Nokia"],l,[n,s]],[/android\s3\.[\s\w-;]{10}(a\d{3})/i],[l,[o,"Acer"],[n,t]],[/android\s3\.[\s\w-;]{10}(lg?)-([06cv9]{3,4})/i],[[o,"LG"],l,[n,t]],[/(lg) netcast\.tv/i],[o,l,[n,u]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[l,[o,"LG"],[n,s]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[l,[o,"Lenovo"],[n,t]],[/linux;.+((jolla));/i],[o,l,[n,s]],[/((pebble))app\/[\d\.]+\s/i],[o,l,[n,v]],[/android.+;\s(glass)\s\d/i],[l,[o,"Google"],[n,v]],[/(mobile|tablet);.+rv\:.+gecko\//i],[[n,x.lowerize],o,l]],engine:[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[m,p],[/rv\:([\w\.]+).*(gecko)/i],[p,m]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[m,p],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[m,[p,y.str,z.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[m,"Windows"],[p,y.str,z.os.windows.version]],[/\((bb)(10);/i],[[m,"BlackBerry"],p],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[m,p],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[m,"Symbian"],p],[/\((series40);/i],[m],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[m,"Firefox OS"],p],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[m,p],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[m,"Chromium OS"],p],[/(sunos)\s?([\w\.]+\d)*/i],[[m,"Solaris"],p],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[m,p],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[m,"iOS"],[p,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[m,"Mac OS"],[p,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[m,p]]},B=function(b,c){if(!(this instanceof B))return new B(b,c).getResult();var d=b||(a&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:f),e=c?x.extend(A,c):A;this.getBrowser=function(){return y.rgx.apply(this,e.browser)},this.getCPU=function(){return y.rgx.apply(this,e.cpu)},this.getDevice=function(){return y.rgx.apply(this,e.device)},this.getEngine=function(){return y.rgx.apply(this,e.engine)},this.getOS=function(){return y.rgx.apply(this,e.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return d},this.setUA=function(a){return d=a,this},this.setUA(d)};if(B.VERSION=e,B.BROWSER={NAME:m,MAJOR:k,VERSION:p},B.CPU={ARCHITECTURE:q},B.DEVICE={MODEL:l,VENDOR:o,TYPE:n,CONSOLE:r,MOBILE:s,SMARTTV:u,TABLET:t,WEARABLE:v,EMBEDDED:w},B.ENGINE={NAME:m,VERSION:p},B.OS={NAME:m,VERSION:p},typeof c!==i)typeof b!==i&&b.exports&&(c=b.exports=B),c.UAParser=B;else{a.UAParser=B,typeof define===h&&define.amd&&define(function(){return B});var C=a.jQuery||a.Zepto;if(typeof C!==i){var D=new B;C.ua=D.getResult(),C.ua.get=function(){return D.getUA()},C.ua.set=function(a){D.setUA(a);var b=D.getResult();for(var c in b)C.ua[c]=b[c]}}}}(this)},{}],67:[function(a,b){!function(a){"use strict";a(function(a){var b=a("./makePromise"),c=a("./Scheduler"),d=a("./async");return b({scheduler:new c(d)})})}("function"==typeof define&&define.amd?define:function(c){b.exports=c(a)})},{"./Scheduler":69,"./async":71,"./makePromise":81}],68:[function(a,b){!function(a){"use strict";a(function(){function a(a){this.head=this.tail=this.length=0,this.buffer=new Array(1<<a)}return a.prototype.push=function(a){return this.length===this.buffer.length&&this._ensureCapacity(2*this.length),this.buffer[this.tail]=a,this.tail=this.tail+1&this.buffer.length-1,++this.length,this.length},a.prototype.shift=function(){var a=this.buffer[this.head];return this.buffer[this.head]=void 0,this.head=this.head+1&this.buffer.length-1,--this.length,a},a.prototype._ensureCapacity=function(a){var b,c=this.head,d=this.buffer,e=new Array(a),f=0;if(0===c)for(b=this.length;b>f;++f)e[f]=d[f];else{for(a=d.length,b=this.tail;a>c;++f,++c)e[f]=d[c];for(c=0;b>c;++f,++c)e[f]=d[c]}this.buffer=e,this.head=0,this.tail=this.length},a})}("function"==typeof define&&define.amd?define:function(a){b.exports=a()})},{}],69:[function(a,b){!function(a){"use strict";a(function(a){function b(a){this._async=a,this._queue=new d(15),this._afterQueue=new d(5),this._running=!1;var b=this;this.drain=function(){b._drain()}}function c(a){for(;a.length>0;)a.shift().run()}var d=a("./Queue");return b.prototype.enqueue=function(a){this._add(this._queue,a)},b.prototype.afterQueue=function(a){this._add(this._afterQueue,a)},b.prototype._drain=function(){c(this._queue),this._running=!1,c(this._afterQueue)},b.prototype._add=function(a,b){a.push(b),this._running||(this._running=!0,this._async(this.drain))},b})}("function"==typeof define&&define.amd?define:function(c){b.exports=c(a)})},{"./Queue":68}],70:[function(a,b){!function(a){"use strict";a(function(){function a(b){Error.call(this),this.message=b,this.name=a.name,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,a)}return a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a})}("function"==typeof define&&define.amd?define:function(a){b.exports=a()})},{}],71:[function(a,b){!function(c){!function(a){"use strict";a(function(a){var b,d;return b="undefined"!=typeof c&&null!==c&&"function"==typeof c.nextTick?function(a){c.nextTick(a)}:(d="function"==typeof MutationObserver&&MutationObserver||"function"==typeof WebKitMutationObserver&&WebKitMutationObserver)?function(a,b){function c(){var a=d;d=void 0,a()}var d,e=a.createElement("div"),f=new b(c);return f.observe(e,{attributes:!0}),function(a){d=a,e.setAttribute("class","x")}}(document,d):function(a){try{return a("vertx").runOnLoop||a("vertx").runOnContext}catch(b){}var c=setTimeout;return function(a){c(a,0)}}(a)})}("function"==typeof define&&define.amd?define:function(c){b.exports=c(a)})}.call(this,a("_process"))},{_process:49}],72:[function(a,b){!function(a){"use strict";a(function(){return function(a){function b(b){return new a(function(a,c){function e(a){f.push(a),0===--g&&c(f)}var f=[],g=d(b,a,e);0===g&&c(new RangeError("any() input must not be empty"))})}function c(b,c){return new a(function(a,e,f){function g(b){l>0&&(--l,j.push(b),0===l&&a(j))}function h(a){i>0&&(--i,k.push(a),0===i&&e(k))}var i,j=[],k=[],l=d(b,g,h,f);c=Math.max(c,0),i=l-c+1,l=Math.min(c,l),c>l?e(new RangeError("some() input must contain at least "+c+" element(s), but had "+l)):0===l&&a(j)})}function d(a,b,c,d){return l.call(a,function(a,e){return n(e).then(b,c,d),a+1},0)}function e(a,b){function c(a,c){return b(c,a)}return"object"!=typeof a?n([]):o(k(function(a,b){return n(a).fold(c,b)},a))}function f(a,b){return o(a).then(function(a){return o(k(b,a)).then(function(b){for(var c,d=b.length,e=new Array(d),f=0,g=0;d>f;++f)c=b[f],(void 0!==c||f in b)&&b[f]&&(e[g++]=a[f]);return e.length=g,e})})}function g(a){return o(k(function(a){function b(){return a.inspect()}return a=n(a),a.then(b,b)},a))}function h(a,b){var c=j(b);return arguments.length>2?l.call(a,c,arguments[2]):l.call(a,c)}function i(a,b){var c=j(b);
return arguments.length>2?m.call(a,c,arguments[2]):m.call(a,c)}function j(a){return function(b,c,d){return n(b).then(function(b){return n(c).then(function(c){return a(b,c,d)})})}}function k(a,b){for(var c,d=b.length,e=new Array(d),f=0;d>f;++f)c=b[f],(void 0!==c||f in b)&&(e[f]=a(b[f],f));return e}var l=Array.prototype.reduce,m=Array.prototype.reduceRight,n=a.resolve,o=a.all;return a.any=b,a.some=c,a.settle=g,a.map=e,a.filter=f,a.reduce=h,a.reduceRight=i,a.prototype.spread=function(a){return this.then(o).then(function(b){return a.apply(void 0,b)})},a}})}("function"==typeof define&&define.amd?define:function(a){b.exports=a()})},{}],73:[function(a,b){!function(a){"use strict";a(function(){function a(){throw new TypeError("catch predicate must be a function")}function b(a,b){return c(b)?a instanceof b:b(a)}function c(a){return a===Error||null!=a&&a.prototype instanceof Error}function d(a){return function(){return a.call(this)}}return function(c){function e(a,c){return function(d){return b(d,c)?a.call(this,d):f(d)}}var f=c.reject,g=c.prototype["catch"];return c.prototype.done=function(a,b){this._handler.visit(this._handler.receiver,a,b)},c.prototype["catch"]=c.prototype.otherwise=function(b){return arguments.length<2?g.call(this,b):"function"!=typeof b?this.ensure(a):g.call(this,e(arguments[1],b))},c.prototype["finally"]=c.prototype.ensure=function(a){if("function"!=typeof a)return this;var b=d(a);return this.then(b,b).yield(this)},c.prototype["else"]=c.prototype.orElse=function(a){return this.then(void 0,function(){return a})},c.prototype.yield=function(a){return this.then(function(){return a})},c.prototype.tap=function(a){return this.then(a).yield(this)},c}})}("function"==typeof define&&define.amd?define:function(a){b.exports=a()})},{}],74:[function(a,b){!function(a){"use strict";a(function(){return function(a){return a.prototype.fold=function(b,c){var d=this._beget();return this._handler.fold(function(c,d,e){a._handler(c).fold(function(a,c,d){d.resolve(b.call(this,c,a))},d,this,e)},c,d._handler.receiver,d._handler),d},a}})}("function"==typeof define&&define.amd?define:function(a){b.exports=a()})},{}],75:[function(a,b){!function(a){"use strict";a(function(){return function(a){function b(a){var b=a.state();return 0===b?{state:"pending"}:b>0?{state:"fulfilled",value:a.value}:{state:"rejected",reason:a.value}}return a.prototype.inspect=function(){return b(a._handler(this))},a}})}("function"==typeof define&&define.amd?define:function(a){b.exports=a()})},{}],76:[function(a,b){!function(a){"use strict";a(function(){return function(a){function b(a,b,d,e){return c(function(b){return[b,a(b)]},b,d,e)}function c(a,b,e,f){function g(f,g){return d(e(f)).then(function(){return c(a,b,e,g)})}return d(f).then(function(c){return d(b(c)).then(function(b){return b?c:d(a(c)).spread(g)})})}var d=a.resolve;return a.iterate=b,a.unfold=c,a}})}("function"==typeof define&&define.amd?define:function(a){b.exports=a()})},{}],77:[function(a,b){!function(a){"use strict";a(function(){return function(a){return a.prototype.progress=function(a){return this.then(void 0,void 0,a)},a}})}("function"==typeof define&&define.amd?define:function(a){b.exports=a()})},{}],78:[function(a,b){!function(a){"use strict";a(function(a){function b(a,b,d,e){return c.set(function(){a(d,e,b)},b)}var c=a("../timer"),d=a("../TimeoutError");return function(a){function e(a,c,d){b(f,a,c,d)}function f(a,b){b.resolve(a)}function g(a,b,c){var e="undefined"==typeof a?new d("timed out after "+c+"ms"):a;b.reject(e)}return a.prototype.delay=function(a){var b=this._beget();return this._handler.fold(e,a,void 0,b._handler),b},a.prototype.timeout=function(a,d){var e=this._beget(),f=e._handler,h=b(g,a,d,e._handler);return this._handler.visit(f,function(a){c.clear(h),this.resolve(a)},function(a){c.clear(h),this.reject(a)},f.notify),e},a}})}("function"==typeof define&&define.amd?define:function(c){b.exports=c(a)})},{"../TimeoutError":70,"../timer":82}],79:[function(a,b){!function(a){"use strict";a(function(a){function b(a){var b="object"==typeof a&&a.stack?a.stack:c(a);return a instanceof Error?b:b+" (WARNING: non-Error used)"}function c(a){var b=String(a);return"[object Object]"===b&&"undefined"!=typeof JSON&&(b=d(a,b)),b}function d(a,b){try{return JSON.stringify(a)}catch(a){return b}}function e(a){throw a}function f(){}var g=a("../timer");return function(a){function d(a){a.handled||(n.push(a),k("Potentially unhandled rejection ["+a.id+"] "+b(a.value)))}function h(a){var b=n.indexOf(a);b>=0&&(n.splice(b,1),l("Handled previous rejection ["+a.id+"] "+c(a.value)))}function i(a,b){m.push(a,b),o||(o=!0,o=g.set(j,0))}function j(){for(o=!1;m.length>0;)m.shift()(m.shift())}var k=f,l=f;"undefined"!=typeof console&&(k="undefined"!=typeof console.error?function(a){console.error(a)}:function(a){console.log(a)},l="undefined"!=typeof console.info?function(a){console.info(a)}:function(a){console.log(a)}),a.onPotentiallyUnhandledRejection=function(a){i(d,a)},a.onPotentiallyUnhandledRejectionHandled=function(a){i(h,a)},a.onFatalRejection=function(a){i(e,a.value)};var m=[],n=[],o=!1;return a}})}("function"==typeof define&&define.amd?define:function(c){b.exports=c(a)})},{"../timer":82}],80:[function(a,b){!function(a){"use strict";a(function(){return function(a){return a.prototype["with"]=a.prototype.withThis=function(a){var b=this._beget(),c=b._handler;return c.receiver=a,this._handler.chain(c,a),b},a}})}("function"==typeof define&&define.amd?define:function(a){b.exports=a()})},{}],81:[function(a,b){!function(a){"use strict";a(function(){return function(a){function b(a,b){this._handler=a===l?b:c(a)}function c(a){function b(a){e.resolve(a)}function c(a){e.reject(a)}function d(a){e.notify(a)}var e=new n;try{a(b,c,d)}catch(f){c(f)}return e}function d(a){return z(a)?a:new b(l,new o(j(a)))}function e(a){return new b(l,new o(new r(a)))}function f(){return O}function g(){return new b(l,new n)}function h(a){function c(a,b,c){this[a]=b,0===--i&&c.become(new q(this))}var d,e,f,g,h=new n,i=a.length>>>0,j=new Array(i);for(d=0;d<a.length;++d)if(f=a[d],void 0!==f||d in a)if(A(f))if(e=z(f)?f._handler.join():k(f),g=e.state(),0===g)e.fold(c,d,j,h);else{if(!(g>0)){h.become(e);break}j[d]=e.value,--i}else j[d]=f,--i;else--i;return 0===i&&h.become(new q(j)),new b(l,h)}function i(a){if(Object(a)===a&&0===a.length)return f();var c,d,e=new n;for(c=0;c<a.length;++c)d=a[c],void 0!==d&&c in a&&j(d).visit(e,e.resolve,e.reject);return new b(l,e)}function j(a){return z(a)?a._handler.join():A(a)?k(a):new q(a)}function k(a){try{var b=a.then;return"function"==typeof b?new p(b,a):new q(a)}catch(c){return new r(c)}}function l(){}function m(){}function n(a,c){b.createContext(this,c),this.consumers=void 0,this.receiver=a,this.handler=void 0,this.resolved=!1}function o(a){this.handler=a}function p(a,b){n.call(this),J.enqueue(new x(a,b,this))}function q(a){b.createContext(this),this.value=a}function r(a){b.createContext(this),this.id=++M,this.value=a,this.handled=!1,this.reported=!1,this._report()}function s(a,b){this.rejection=a,this.context=b}function t(a){this.rejection=a}function u(){return new r(new TypeError("Promise cycle"))}function v(a,b){this.continuation=a,this.handler=b}function w(a,b){this.handler=b,this.value=a}function x(a,b,c){this._then=a,this.thenable=b,this.resolver=c}function y(a,b,c,d,e){try{a.call(b,c,d,e)}catch(f){d(f)}}function z(a){return a instanceof b}function A(a){return("object"==typeof a||"function"==typeof a)&&null!==a}function B(a,c,d,e){return"function"!=typeof a?e.become(c):(b.enterContext(c),E(a,c.value,d,e),void b.exitContext())}function C(a,c,d,e,f){return"function"!=typeof a?f.become(d):(b.enterContext(d),F(a,c,d.value,e,f),void b.exitContext())}function D(a,c,d,e,f){return"function"!=typeof a?f.notify(c):(b.enterContext(d),G(a,c,e,f),void b.exitContext())}function E(a,b,c,d){try{d.become(j(a.call(c,b)))}catch(e){d.become(new r(e))}}function F(a,b,c,d,e){try{a.call(d,b,c,e)}catch(f){e.become(new r(f))}}function G(a,b,c,d){try{d.notify(a.call(c,b))}catch(e){d.notify(e)}}function H(a,b){b.prototype=K(a.prototype),b.prototype.constructor=b}function I(){}var J=a.scheduler,K=Object.create||function(a){function b(){}return b.prototype=a,new b};b.resolve=d,b.reject=e,b.never=f,b._defer=g,b._handler=j,b.prototype.then=function(a,c){var d=this._handler;if("function"!=typeof a&&d.join().state()>0)return new b(l,d);var e=this._beget(),f=e._handler;return d.chain(f,d.receiver,a,c,arguments.length>2?arguments[2]:void 0),e},b.prototype["catch"]=function(a){return this.then(void 0,a)},b.prototype._beget=function(){var a=this._handler,b=new n(a.receiver,a.join().context);return new this.constructor(l,b)},b.all=h,b.race=i,l.prototype.when=l.prototype.become=l.prototype.notify=l.prototype.fail=l.prototype._unreport=l.prototype._report=I,l.prototype._state=0,l.prototype.state=function(){return this._state},l.prototype.join=function(){for(var a=this;void 0!==a.handler;)a=a.handler;return a},l.prototype.chain=function(a,b,c,d,e){this.when({resolver:a,receiver:b,fulfilled:c,rejected:d,progress:e})},l.prototype.visit=function(a,b,c,d){this.chain(L,a,b,c,d)},l.prototype.fold=function(a,b,c,d){this.visit(d,function(d){a.call(c,b,d,this)},d.reject,d.notify)},H(l,m),m.prototype.become=function(a){a.fail()};var L=new m;H(l,n),n.prototype._state=0,n.prototype.resolve=function(a){this.become(j(a))},n.prototype.reject=function(a){this.resolved||this.become(new r(a))},n.prototype.join=function(){if(!this.resolved)return this;for(var a=this;void 0!==a.handler;)if(a=a.handler,a===this)return this.handler=u();return a},n.prototype.run=function(){var a=this.consumers,b=this.join();this.consumers=void 0;for(var c=0;c<a.length;++c)b.when(a[c])},n.prototype.become=function(a){this.resolved||(this.resolved=!0,this.handler=a,void 0!==this.consumers&&J.enqueue(this),void 0!==this.context&&a._report(this.context))},n.prototype.when=function(a){this.resolved?J.enqueue(new v(a,this.handler)):void 0===this.consumers?this.consumers=[a]:this.consumers.push(a)},n.prototype.notify=function(a){this.resolved||J.enqueue(new w(a,this))},n.prototype.fail=function(a){var b="undefined"==typeof a?this.context:a;this.resolved&&this.handler.join().fail(b)},n.prototype._report=function(a){this.resolved&&this.handler.join()._report(a)},n.prototype._unreport=function(){this.resolved&&this.handler.join()._unreport()},H(l,o),o.prototype.when=function(a){J.enqueue(new v(a,this))},o.prototype._report=function(a){this.join()._report(a)},o.prototype._unreport=function(){this.join()._unreport()},H(n,p),H(l,q),q.prototype._state=1,q.prototype.fold=function(a,b,c,d){C(a,b,this,c,d)},q.prototype.when=function(a){B(a.fulfilled,this,a.receiver,a.resolver)};var M=0;H(l,r),r.prototype._state=-1,r.prototype.fold=function(a,b,c,d){d.become(this)},r.prototype.when=function(a){"function"==typeof a.rejected&&this._unreport(),B(a.rejected,this,a.receiver,a.resolver)},r.prototype._report=function(a){J.afterQueue(new s(this,a))},r.prototype._unreport=function(){this.handled=!0,J.afterQueue(new t(this))},r.prototype.fail=function(a){b.onFatalRejection(this,void 0===a?this.context:a)},s.prototype.run=function(){this.rejection.handled||(this.rejection.reported=!0,b.onPotentiallyUnhandledRejection(this.rejection,this.context))},t.prototype.run=function(){this.rejection.reported&&b.onPotentiallyUnhandledRejectionHandled(this.rejection)},b.createContext=b.enterContext=b.exitContext=b.onPotentiallyUnhandledRejection=b.onPotentiallyUnhandledRejectionHandled=b.onFatalRejection=I;var N=new l,O=new b(l,N);return v.prototype.run=function(){this.handler.join().when(this.continuation)},w.prototype.run=function(){var a=this.handler.consumers;if(void 0!==a)for(var b,c=0;c<a.length;++c)b=a[c],D(b.progress,this.value,this.handler,b.receiver,b.resolver)},x.prototype.run=function(){function a(a){d.resolve(a)}function b(a){d.reject(a)}function c(a){d.notify(a)}var d=this.resolver;y(this._then,this.thenable,a,b,c)},b}})}("function"==typeof define&&define.amd?define:function(a){b.exports=a()})},{}],82:[function(a,b){!function(a){"use strict";a(function(a){var b,c,d,e;b=a;try{c=b("vertx"),d=function(a,b){return c.setTimer(b,a)},e=c.cancelTimer}catch(f){d=function(a,b){return setTimeout(a,b)},e=function(a){return clearTimeout(a)}}return{set:d,clear:e}})}("function"==typeof define&&define.amd?define:function(c){b.exports=c(a)})},{}],83:[function(a,b){!function(a){"use strict";a(function(a){function b(a,b,c){var d=A.resolve(a);return arguments.length<2?d:arguments.length>3?d.then(b,c,arguments[3]):d.then(b,c)}function c(a){return new A(a)}function d(a){return function(){return f(a,this,B.call(arguments))}}function e(a){return f(a,this,B.call(arguments,1))}function f(a,b,c){return A.all(c).then(function(c){return a.apply(b,c)})}function g(){return new h}function h(){function a(a){d._handler.resolve(a)}function b(a){d._handler.reject(a)}function c(a){d._handler.notify(a)}var d=A._defer();this.promise=d,this.resolve=a,this.reject=b,this.notify=c,this.resolver={resolve:a,reject:b,notify:c}}function i(a){return a&&"function"==typeof a.then}function j(){return A.all(arguments)}function k(a){return b(a,A.all)}function l(a){return b(a,A.settle)}function m(a,c){return b(a,function(a){return A.map(a,c)})}function n(a,c){return b(a,function(a){return A.filter(a,c)})}function o(a){var c=B.call(arguments,1);return b(a,function(a){return c.unshift(a),A.reduce.apply(A,c)})}function p(a){var c=B.call(arguments,1);return b(a,function(a){return c.unshift(a),A.reduceRight.apply(A,c)})}var q=a("./lib/decorators/timed"),r=a("./lib/decorators/array"),s=a("./lib/decorators/flow"),t=a("./lib/decorators/fold"),u=a("./lib/decorators/inspect"),v=a("./lib/decorators/iterate"),w=a("./lib/decorators/progress"),x=a("./lib/decorators/with"),y=a("./lib/decorators/unhandledRejection"),z=a("./lib/TimeoutError"),A=[r,s,t,v,w,u,x,q,y].reduce(function(a,b){return b(a)},a("./lib/Promise")),B=Array.prototype.slice;return b.promise=c,b.resolve=A.resolve,b.reject=A.reject,b.lift=d,b["try"]=e,b.attempt=e,b.iterate=A.iterate,b.unfold=A.unfold,b.join=j,b.all=k,b.settle=l,b.any=d(A.any),b.some=d(A.some),b.race=d(A.race),b.map=m,b.filter=n,b.reduce=o,b.reduceRight=p,b.isPromiseLike=i,b.Promise=A,b.defer=g,b.TimeoutError=z,b})}("function"==typeof define&&define.amd?define:function(c){b.exports=c(a)})},{"./lib/Promise":67,"./lib/TimeoutError":70,"./lib/decorators/array":72,"./lib/decorators/flow":73,"./lib/decorators/fold":74,"./lib/decorators/inspect":75,"./lib/decorators/iterate":76,"./lib/decorators/progress":77,"./lib/decorators/timed":78,"./lib/decorators/unhandledRejection":79,"./lib/decorators/with":80}]},{},[8]);